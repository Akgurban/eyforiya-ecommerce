import{_ as C}from"./base-img-upload.b7f9d6f7.js";import{_ as U}from"./base-input.ed3ba4e0.js";import{_ as N}from"./base-select.327f7587.js";import{v as H}from"./v4.a960c1f4.js";import{a as u,L as g,M as b,X as o,Y as h,u as r,a3 as I,a0 as j,b as z,H as m,e as _,N as P}from"./swiper-vue.629ce7f2.js";import{_ as T}from"./base-button.04347c42.js";import{b as x}from"./entry.63f2b5d2.js";import{u as q}from"./user.5e6e2c7f.js";const D=["for"],F=["id","name","placeholder","value"],L={key:0,class:"error"},R={__name:"base-textarea",props:{name:{type:String,required:!0},type:{type:String,default:"text"},label:{type:String,required:!0},value:{type:[String,Number],default:""},modelValue:{type:[String,Number],default:""},placeholder:{type:String,default:""},validate:{type:Function}},emits:["update:modelValue"],setup(d,{emit:i}){const c=d,a=u(""),s=H();function f(l){i("update:modelValue",l.target.value),c.validate&&(a.value=c.validate(l.target.value))}return(l,y)=>(g(),b("div",null,[o("label",{for:r(s)},h(d.label),9,D),o("textarea",{id:r(s),name:d.name,placeholder:d.placeholder,value:d.modelValue,onInput:f,class:"bg-white w-full sm:px-6 border border-black px-4 py-4 h-50 focus:outline-none mt-1 placeholder:text-[#B7B7B7]"},null,40,F),a.value?(g(),b("div",L,h(a.value),1)):I("",!0)]))}},A=o("div",{class:"my-4 font-bold bg-slate-300 p-2"},"Habar gosun",-1),E={class:"flex gap-4 justify-between w-full"},M={class:"w-[400px]"},X={class:"flex flex-col justify-between"},Y={class:"flex justify-end"},G=o("button",null,"Habar gosh",-1),ae={__name:"add",async setup(d){let i,c;const a=u(null),s=u(null),f=u(""),l=u(null);x();const y=q(),p=u(null),v=u(null);try{const{data:e}=([i,c]=j(()=>y.getCategories()),i=await i,c(),i);console.log(e,"data"),v.value=e.data}catch(e){console.log(e)}const V=async()=>{try{const e=new FormData;e.append("file",a.value),e.append("description",l.value),e.append("title",p.value),e.append("uuid",f.value),e.append("category_id",s.value.uuid);const{data:t}=await y.addPosts(e);console.log(t,"data"),v.value=t.data,t.status&&(alert("habar Ustunlikli goshuldy"),x().push("/admin/posts"))}catch(e){console.log(e)}};return z(a,()=>{console.log(a)}),(e,t)=>{const w=C,B=U,S=N,$=R,k=T;return g(),b("div",null,[A,o("div",E,[o("div",M,[m(w,{modelValue:r(a),"onUpdate:modelValue":t[0]||(t[0]=n=>_(a)?a.value=n:null)},null,8,["modelValue"])]),o("div",X,[m(B,{name:"Title Link",label:"title ady",placeholder:"titte gosh",modelValue:r(p),"onUpdate:modelValue":t[1]||(t[1]=n=>_(p)?p.value=n:null)},null,8,["modelValue"]),m(S,{modelValue:r(s),"onUpdate:modelValue":t[2]||(t[2]=n=>_(s)?s.value=n:null),label:"Select Category",options:r(v)},null,8,["modelValue","options"])])]),m($,{name:"description",label:"Habaryn mazmuny",placeholder:"Habaryn mazmuny ýazyň ",modelValue:r(l),"onUpdate:modelValue":t[3]||(t[3]=n=>_(l)?l.value=n:null),class:"mt-4"},null,8,["modelValue"]),o("div",Y,[m(k,{onClick:V,class:"",type:"secondary"},{default:P(()=>[G]),_:1})])])}}};export{ae as default};
