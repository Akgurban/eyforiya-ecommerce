import{_ as A}from"./base-input.cd175c59.js";import{_ as Q}from"./base-select.d4bb4b3c.js";import{_ as X}from"./base-textarea.6d5663a6.js";import{_ as Z}from"./base-img-upload.cfd6955b.js";import{_ as q}from"./base-button.0f6fb678.js";import{a as z,b as J}from"./entry.eea6a19a.js";import{u as K}from"./user.3370abc0.js";import{u as W}from"./loader.5d05f8d7.js";import{a as o,aa as ee,Z as B,I as R,R as s,H as d,u as l,e as i,G as ae,Y as le,L as te,Q as F,M as oe}from"./swiper-vue.406cf000.js";import"./v4.a960c1f4.js";import"./plus.a645f405.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./fetch.54941e9f.js";import"./adminStore.fa39c8b0.js";const ue=s("div",{class:"my-4 font-bold bg-slate-300 p-2"},"Habar gosun",-1),se={class:"flex gap-4 justify-between w-full"},ne={class:"w-[400px] flex flex-col gap-3"},de={class:"flex flex-col justify-between gap-3 w-[400px]"},ie={class:"flex w-full items-end justify-between"},re={class:"flex gap-3"},me={class:"flex gap-3 my-5"},ce=["onClick"],pe={class:"flex justify-between mb-30"},_e=s("button",null,"Harydy Gosh",-1),Ie={__name:"[id]",async setup(ve){let I,S;const c=K(),D=W(),G=z(),$=J(),v=o([]),p=o([]),g=o(null),y=o(null),f=o(null),b=o(null),V=o(null),w=o(null),P=o(null),T=o(null),L=o(null),h=o(null),_=o(null),k=o(null),x=o(null),E=async()=>{try{const{data:r}=await c.getSubCategories(),{data:e}=await c.getSpecialCategories(),{data:n}=await c.getBrand(),{data:t}=await c.OneProduct($.params.id);P.value=r.value.data,T.value=e.value.data,L.value=n.value.data,D.endLoading(),p.value=t.value.data.images,b.value=t.value.data.name_tm,w.value=t.value.data.name_ru,V.value=t.value.data.name_en,g.value=t.value.data.description_tm,y.value=t.value.data.description_en,f.value=t.value.data.description_ru,h.value=+t.value.data.price,x.value={name:t.value.data.brand_name,uuid:t.value.data.brand_id},_.value={name:t.value.data.special_categ_name,uuid:t.value.data.special_categ_id},k.value={name:t.value.data.sub_category_name,uuid:t.value.data.sub_category_id}}catch(r){console.log(r)}},M=async()=>{var r,e,n,t;try{const{data:m,status:j}=await c.editProduct({sub_category_id:(r=k.value)==null?void 0:r.uuid,name_tm:b.value,name_ru:w.value,name_en:V.value,description_tm:g.value,description_en:y.value,description_ru:f.value,price:+h.value,brand_id:((e=x.value)==null?void 0:e.uuid)||null,special_category_id:((n=_.value)==null?void 0:n.uuid)||null,uuid:$.params.id});m.value.status&&((t=v.value)==null||t.forEach(async(H,a)=>{const u=new FormData;u.append("product_id",m.value.data),u.append("img",v.value[a]);const{data:C,status:U}=await c.addProductImage(u)}),G.push("/admin/products"))}catch(m){console.log(m)}},Y=async r=>{try{D.startLoading();const{data:e,status:n}=await c.deleteProductImage(r);n&&(await E(),D.endLoading())}catch(e){console.log(e)}};return[I,S]=ee(()=>E()),await I,S(),(r,e)=>{const n=A,t=Q,m=X,j=Z,H=q;return B(),R("div",null,[s("div",null,[ue,s("div",se,[s("div",ne,[d(n,{name:"Turkmenca ady",label:"Turkmenca ady",placeholder:"Turkmenca ady",modelValue:l(b),"onUpdate:modelValue":e[0]||(e[0]=a=>i(b)?b.value=a:null)},null,8,["modelValue"]),d(n,{name:"Rusca ady",label:"Rusca ady",placeholder:"Rusca ady",modelValue:l(w),"onUpdate:modelValue":e[1]||(e[1]=a=>i(w)?w.value=a:null)},null,8,["modelValue"]),d(n,{name:"inlisce ady",label:"inlisce ady",placeholder:"inlisce ady",modelValue:l(V),"onUpdate:modelValue":e[2]||(e[2]=a=>i(V)?V.value=a:null)},null,8,["modelValue"])]),s("div",de,[s("div",ie,[s("button",{onClick:e[3]||(e[3]=a=>_.value=""),class:"bg-red-600 rounded-md text-white h-13 w-13"}," X "),d(t,{class:"w-[300px]",modelValue:l(_),"onUpdate:modelValue":e[4]||(e[4]=a=>i(_)?_.value=a:null),label:"Yorite kategoriya saylan",options:l(T)},null,8,["modelValue","options"])]),d(t,{modelValue:l(k),"onUpdate:modelValue":e[5]||(e[5]=a=>i(k)?k.value=a:null),label:"kici kategoriya saylan",options:l(P)},null,8,["modelValue","options"]),d(t,{modelValue:l(x),"onUpdate:modelValue":e[6]||(e[6]=a=>i(x)?x.value=a:null),label:"brend saylan",options:l(L)},null,8,["modelValue","options"])])]),s("div",re,[d(m,{name:"Turkmence Dusundiris",label:"Turkmence Dusundiris",placeholder:"Turkmence Dusundiris ",modelValue:l(g),"onUpdate:modelValue":e[7]||(e[7]=a=>i(g)?g.value=a:null),class:"mt-4"},null,8,["modelValue"]),d(m,{name:"Rusca Dusundiris",label:"Rusca Dusundiris",placeholder:"Rusca Dusundiris ",modelValue:l(f),"onUpdate:modelValue":e[8]||(e[8]=a=>i(f)?f.value=a:null),class:"mt-4"},null,8,["modelValue"]),d(m,{name:"Englishe Dusundiris",label:"Englishe Dusundiris",placeholder:"Englishe Dusundiris ",modelValue:l(y),"onUpdate:modelValue":e[9]||(e[9]=a=>i(y)?y.value=a:null),class:"mt-4"},null,8,["modelValue"])]),s("div",me,[(B(),R(ae,null,le(5,(a,u)=>{var C,U,N;return s("div",{key:u,class:"flex flex-col w-[200px] gap-2 relative"},[l(v).length>=u||l(p).length>=u?(B(),te(j,{key:0,class:"w-[200px]",currentImg:(C=l(p)[u])!=null&&C.img_path?`http://duypbaha.com.tm/api/v1/uploads/images/${l(p)[u].img_path}`:null,isChangable:!((U=l(p)[u])!=null&&U.img_path),modelValue:l(v)[u],"onUpdate:modelValue":O=>l(v)[u]=O},null,8,["currentImg","isChangable","modelValue","onUpdate:modelValue"])):F("",!0),(N=l(p)[u])!=null&&N.img_path?(B(),R("div",{key:1,onClick:O=>Y(l(p)[u].img_uuid),class:"text-white cursor-pointer hover:bg-red-500 px-2 w-full bg-red-600 mt-auto absolute -bottom-5"}," Delete ",8,ce)):F("",!0)])}),64))])]),s("div",pe,[d(n,{name:"baha",type:"number",placeholder:"Harydyn bahasy Manatda",modelValue:l(h),"onUpdate:modelValue":e[10]||(e[10]=a=>i(h)?h.value=a:null)},null,8,["modelValue"]),d(H,{onClick:M,class:"",type:"secondary"},{default:oe(()=>[_e]),_:1})])])}}};export{Ie as default};
