import{_ as v}from"./nuxt-link.9f886ca5.js";import{u as k,_ as C}from"./user.450c21c9.js";import{b as L}from"./entry.54e19d71.js";import{u as N}from"./loader.0c6a4c00.js";import{a as S,a0 as B,M as c,H as l,N as d,X as e,G as P,a1 as $,u as h,a3 as V,L as u,Z as p,Y as y}from"./swiper-vue.00c128fd.js";const D=V('<div class="rounded-md p-2 m-1 flex justify-between"><p class="font-bold">Image</p><p class="font-bold">Title</p><p class="font-bold">Description</p><p class="font-bold">Delete</p></div>',1),R=["src"],j={class:"text-xs w-1/3"},A={class:"flex gap-3"},M={__name:"index",async setup(T){var f;let a,i;const _=N(),n=S(),r=k(),b=async()=>{var s;try{const{data:o}=await r.getProduct({limit:10,offset:0});o!=null&&o.status&&(console.log(o,"datass"),n.value=(s=o==null?void 0:o.data)==null?void 0:s.products)}catch(o){console.log(o)}};_.startLoading();try{const{data:s}=([a,i]=B(()=>r.getProduct({limit:10,offset:0})),a=await a,i(),a);s.status&&(console.log(s,"datass"),n.value=(f=s==null?void 0:s.data)==null?void 0:f.products)}catch(s){console.log(s)}const x=async s=>{try{const{data:o}=await r.deleteProduct(s);console.log(o,"data"),o!=null&&o.status&&await b()}catch(o){console.log(o)}};return _.endLoading(),(s,o)=>{const m=v,g=C;return u(),c("div",null,[l(m,{class:"bg-green-700 block rounded-md hover:bg-green-600 p-2 text-white font-bold text-center mt-3 cursor-pointer",to:"/admin/products/add"},{default:d(()=>[p(" Add + ")]),_:1}),D,e("ul",null,[(u(!0),c(P,null,$(h(n),t=>(u(),c("li",{class:"bg-gray-200 flex justify-between items-center text-lg font-bold rounded-md p-2 m-1",key:t==null?void 0:t.uuid},[e("img",{src:`http://duypbaha.com.tm/api/v1/uploads/images/${t==null?void 0:t.images[0]}`,alt:"",class:"h-10 w-15"},null,8,R),e("p",null,y(t==null?void 0:t.name),1),e("p",j,y(t==null?void 0:t.description),1),e("div",A,[l(g,{onClick:w=>("useRouter"in s?s.useRouter:h(L))().push(`/admin/products/edit/${t==null?void 0:t.uuid}`),type:"primary"},{default:d(()=>[p("edit")]),_:2},1032,["onClick"]),l(g,{onClick:w=>x(t),type:"danger"},{default:d(()=>[p("delete")]),_:2},1032,["onClick"])])]))),128))])])}}};export{M as default};
