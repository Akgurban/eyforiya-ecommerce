import{_ as x}from"./base-input.cd175c59.js";import{_ as V}from"./base-img-upload.cfd6955b.js";import{_ as k}from"./base-button.0f6fb678.js";import{a as g,b as C}from"./entry.eea6a19a.js";import{u as I}from"./user.3370abc0.js";import{a as o,aa as R,Z as U,I as $,R as n,H as u,u as i,e as v,M as j}from"./swiper-vue.406cf000.js";import"./v4.a960c1f4.js";import"./plus.a645f405.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./fetch.54941e9f.js";import"./adminStore.fa39c8b0.js";const M=n("div",{class:"my-4 font-bold bg-slate-300 p-2"},"Banner gosun",-1),T={class:"flex gap-4 justify-between w-full"},z={class:"flex flex-col justify-between"},N={class:"flex justify-between mt-3"},S={class:"w-[400px]"},A=n("button",null,"Kategoriya uytgetmek",-1),Q={__name:"[id]",async setup(D){var f,y;let s,m;const d=I();g();const c=C();o(null);const t=o(null);o(null),o(null);const l=o(null),p=o(null);try{const{data:e}=([s,m]=R(()=>{var a;return d.OneBanner((a=c.params)==null?void 0:a.id)}),s=await s,m(),s);t.value=e.value.data.name,p.value=(y=(f=e.value)==null?void 0:f.data)==null?void 0:y.img_path}catch(e){console.log(e)}const _=e=>{if(e==="")return"dogry dolduryn"},h=async()=>{try{if(!t.value)throw _(t.value),alert("Maglumatlary doly giriziň!"),"Maglumatlary doly giriziň!";const e=new FormData;e.append("name",t.value),e.append("uuid",c.params.id),l.value&&e.append("img",l.value);const{data:a}=await d.editBanner(e);a.status&&alert("Banner Gosuldy"),g().push("/admin/banners")}catch(e){console.log(e)}};return(e,a)=>{const b=x,w=V,B=k;return U(),$("div",null,[M,n("div",T,[n("div",z,[u(b,{validate:_,name:"Categoriya Turkmen",label:"Categoriya Turkmen",placeholder:"Categoriya Turkmen",modelValue:i(t),"onUpdate:modelValue":a[0]||(a[0]=r=>v(t)?t.value=r:null)},null,8,["modelValue"])])]),n("div",N,[n("div",S,[u(w,{currentImg:`http://duypbaha.com.tm/api/v1/uploads/banners/${i(p)}`,modelValue:i(l),"onUpdate:modelValue":a[1]||(a[1]=r=>v(l)?l.value=r:null)},null,8,["currentImg","modelValue"])]),u(B,{onClick:h,class:"",type:"secondary"},{default:j(()=>[A]),_:1})])])}}};export{Q as default};
