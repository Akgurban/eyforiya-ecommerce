import{_ as P}from"./base-button.0f6fb678.js";import{_ as U}from"./FilteredSidebar.6ae3886b.js";import{_ as H}from"./base-product.0bff633a.js";import{_ as M}from"./base-paginate.d698f76d.js";import{g as T,a as z,b as G,h as L,u as Q}from"./entry.bfa7a906.js";import{u as X}from"./useMyFetch.a4389793.js";import{_ as Y}from"./filter.ac2462a9.js";import{_ as Z}from"./_plugin-vue_export-helper.c27b6911.js";import{a as x,aa as K,b as V,Z as v,I as g,R as d,H as w,M as W,U as j,u as i,G as ee,Y as te,Q as D,e as oe,a7 as se,a8 as ae}from"./swiper-vue.406cf000.js";import"./base-input.cd175c59.js";import"./v4.a960c1f4.js";import"./chevron-left.4af3a964.js";import"./nuxt-link.5dccc6ae.js";import"./like.ce290c70.js";import"./TrashButtonAndCounter.ba55ed52.js";import"./trash.5beb687a.js";import"./trash.6deb6e11.js";import"./authStore.4421eb47.js";import"./favourite.47e3ed35.js";import"./chevron-right.c437f043.js";import"./fetch.f5b25f3c.js";const R=b=>(se("data-v-ee776474"),b=b(),ae(),b),re={class:"2xl:w-[1440px] xl:screen mx-auto"},le={class:"flex justify-between"},ie=R(()=>d("div",null,null,-1)),ne=R(()=>d("img",{src:Y,class:"inline w-5",alt:""},null,-1)),de={class:"flex justify-between gap-5 items-start"},ue={class:"md:block hidden w-full 2xl:w-[25%] lg:w-[28%] z-20"},ce={class:"block md:hidden absolute w-full 2xl:w-[25%] lg:w-[28%]"},_e={class:"w-full"},pe={class:"flex flex-wrap gap-3 w-full justify-start mx-auto mt-5 px-2"},fe={key:0,class:"mt-20 text-center w-full text-6xl text-gray-500 font-alatsi font-bold"},me={key:0,class:""},he={__name:"[id]",async setup(b){var O,B;let S,I;const{locale:_,locales:q}=T(),$=z(),o=G(),l=x(""),c=x(1),E=x(24),p=x(!0),A=()=>{p.value=!p.value};L("$5CUfd3qgOX");async function N(t){c.value=1,console.log(_,q),q.value.forEach(e=>{e.code==_.value&&(console.log(e.code,_.value),$.push({path:`${e.code2}/filtered-product/${o.params.id}`,query:{filter:JSON.stringify(t.brnd),order:t.ord,catId:t.sub,p:1}}))})}const k=async()=>{var a,r,n,f,m,h,y;let t={category_id:o.params.id,lang:_.value,limit:24,offset:+o.query.p};(a=o.query)!=null&&a.filter&&((n=JSON.parse((r=o.query)==null?void 0:r.filter))!=null&&n.length)&&(t.brand_id=JSON.parse((f=o.query)==null?void 0:f.filter)),o.query.order&&(t.order=o.query.order),o.query.catId&&(t.sub_category_id=o.query.catId);const{data:e,status:s}=await X(()=>"/api/v1/client/products/product",{method:"POST",body:t});s&&(l.value=(m=e.value)==null?void 0:m.data,console.log(e.value,"[]"),E.value=(y=(h=e.value)==null?void 0:h.data)==null?void 0:y.product_count)};return[S,I]=K(()=>k()),await S,I(),l.value&&((B=(O=l.value)==null?void 0:O.brands)==null||B.forEach(t=>{var e;(e=JSON.parse(o.query.filter))==null||e.forEach(s=>{s==t.uuid&&(t.selected=!0)})})),V(()=>o.query,async()=>{var t,e;await k(),(e=(t=l.value)==null?void 0:t.brands)==null||e.forEach(s=>{var a,r;(r=JSON.parse((a=o.query)==null?void 0:a.filter))==null||r.forEach(n=>{n==s.uuid&&(s.selected=!0)})})}),V(c,async()=>{var t,e;q.value.forEach(s=>{var a,r,n;s.code==_.value&&$.push({path:`${s.code2}/filtered-product/${o.params.id}`,query:{filter:(a=o.query)==null?void 0:a.filter,order:(r=o.query)==null?void 0:r.order,catId:(n=o.query)==null?void 0:n.catId,p:c.value}})}),(e=(t=l.value)==null?void 0:t.brands)==null||e.forEach(s=>{var a,r;(r=JSON.parse((a=o.query)==null?void 0:a.filter))==null||r.forEach(n=>{n==s.uuid&&(s.selected=!0)})}),console.log(o,"sw"),window.scrollTo(0,0)}),Q({title:"All products-Ähli harytlar-Все Товары",meta:[{name:"description",content:"All products-Ähli harytlar-Все Товары"}]}),(t,e)=>{var f,m,h,y,C,F,J;const s=P,a=U,r=H,n=M;return v(),g("div",re,[d("div",le,[ie,w(s,{onClick:A,class:"self-end w-32 lg:hidden flex justify-between",type:"secondary"},{default:W(()=>[d("p",null,j(i(p)?t.$t("show_filter"):t.$t("close_filter")),1),ne]),_:1})]),d("div",de,[d("div",ue,[w(a,{show_filter:!i(p),brands:(f=i(l))==null?void 0:f.brands,sub_categories:(m=i(l))==null?void 0:m.sub_categories,onSomeChange:e[0]||(e[0]=u=>N(u))},null,8,["show_filter","brands","sub_categories"])]),d("div",ce,[w(a,{show_filter:i(p),brands:(h=i(l))==null?void 0:h.brands,sub_categories:(y=i(l))==null?void 0:y.sub_categories,onSomeChange:e[1]||(e[1]=u=>N(u))},null,8,["show_filter","brands","sub_categories"])]),d("div",_e,[d("div",pe,[(v(!0),g(ee,null,te((C=i(l))==null?void 0:C.products,(u,ye)=>(v(),g("div",{key:u,draggable:"true",class:"group relative md:w-[266px] w-[176px] product_item mb-3 hover:shadow-none md:hover:shadow-hero hover:bg-[#D9D9D940] transition-all ease-in-out duration-200 rounded-xl flex flex-col justify-start items-center"},[w(r,{item:u},null,8,["item"])]))),128)),(F=i(l))!=null&&F.products?D("",!0):(v(),g("div",fe,j(t.$t("no_product")),1))]),(J=i(l))!=null&&J.products?(v(),g("div",me,[w(n,{"total-items":i(E),modelValue:i(c),"onUpdate:modelValue":e[2]||(e[2]=u=>oe(c)?c.value=u:null)},null,8,["total-items","modelValue"])])):D("",!0)])])])}}},Ae=Z(he,[["__scopeId","data-v-ee776474"]]);export{Ae as default};
