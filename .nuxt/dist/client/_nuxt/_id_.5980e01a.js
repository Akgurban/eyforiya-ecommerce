import{_ as A}from"./base-button.0f6fb678.js";import{_ as P}from"./FilteredSidebar.9fe8c25a.js";import{_ as U}from"./base-product.693226f6.js";import{_ as H}from"./base-paginate.cb502292.js";import{g as M,a as z,b as G,h as L,u as Q}from"./entry.f57c7ce9.js";import{u as T}from"./useMyFetch.182df1fb.js";import{_ as X}from"./filter.ac2462a9.js";import{_ as Y}from"./_plugin-vue_export-helper.c27b6911.js";import{a as x,aa as Z,b as F,Z as y,I as v,R as r,H as b,M as K,U as V,u as s,G as W,Y as ee,Q as j,e as te,a7 as oe,a8 as se}from"./swiper-vue.406cf000.js";import"./base-input.cd175c59.js";import"./v4.a960c1f4.js";import"./chevron-left.4af3a964.js";import"./nuxt-link.3a82f007.js";import"./like.ce290c70.js";import"./TrashButtonAndCounter.7722f0bb.js";import"./trash.5beb687a.js";import"./trash.69e30f7e.js";import"./authStore.ba1671ca.js";import"./favourite.2a1eb18a.js";import"./chevron-right.c437f043.js";import"./fetch.3824631a.js";const D=g=>(oe("data-v-b1475c25"),g=g(),se(),g),ae={class:"2xl:w-[1440px] xl:screen mx-auto"},re={class:"flex justify-between"},le=D(()=>r("div",null,null,-1)),ie=D(()=>r("img",{src:X,class:"inline w-5",alt:""},null,-1)),ne={class:"flex justify-between gap-5"},de={class:"md:block hidden w-full 2xl:w-[25%] lg:w-[28%] z-20 sticky top-60"},ue={class:"block md:hidden absolute w-full 2xl:w-[25%] lg:w-[28%]"},ce={class:"w-full"},_e={class:"flex flex-wrap gap-3 w-full justify-start mx-auto mt-5 px-2"},me={key:0,class:"mt-20 text-center w-full text-6xl text-gray-500 font-alatsi font-bold"},pe={key:0,class:""},fe={__name:"[id]",async setup(g){var B,C;let q,I;const{locale:w,locales:k}=M(),J=z(),o=G(),a=x(""),u=x(1),$=x(15),_=x(!0),R=()=>{_.value=!_.value};L("$5CUfd3qgOX");async function N(t){console.log(w,k),k.value.forEach(e=>{e.code==w.value&&(console.log(e.code,w.value),J.push({path:`${e.code2}/filtered-product/${o.params.id}`,query:{filter:JSON.stringify(t.brnd),order:t.ord,catId:t.sub}}))})}const S=async()=>{var i,d,c,m,p,f,h;let t={category_id:o.params.id,lang:w.value,limit:15,offset:u.value-1};(i=o.query)!=null&&i.filter&&((c=JSON.parse((d=o.query)==null?void 0:d.filter))!=null&&c.length)&&(t.brand_id=JSON.parse((m=o.query)==null?void 0:m.filter)),o.query.order&&(t.order=o.query.order),o.query.catId&&(t.sub_category_id=o.query.catId);const{data:e,status:l}=await T(()=>"/api/v1/client/products/product",{method:"POST",body:t});l&&(a.value=(p=e.value)==null?void 0:p.data,console.log(e.value,"[]"),$.value=(h=(f=e.value)==null?void 0:f.data)==null?void 0:h.product_count)};return[q,I]=Z(()=>S()),await q,I(),a.value&&((C=(B=a.value)==null?void 0:B.brands)==null||C.forEach(t=>{var e;(e=JSON.parse(o.query.filter))==null||e.forEach(l=>{l==t.uuid&&(t.selected=!0)})})),F(()=>o.query,async()=>{var t,e;await S(),(e=(t=a.value)==null?void 0:t.brands)==null||e.forEach(l=>{var i,d;(d=JSON.parse((i=o.query)==null?void 0:i.filter))==null||d.forEach(c=>{c==l.uuid&&(l.selected=!0)})})}),F(u,async()=>{await S()}),Q({title:"All products-Ähli harytlar-Все Товары",meta:[{name:"description",content:"All products-Ähli harytlar-Все Товары"}]}),(t,e)=>{var m,p,f,h,O,E;const l=A,i=P,d=U,c=H;return y(),v("div",ae,[r("div",re,[le,b(l,{onClick:R,class:"self-end w-32 lg:hidden flex justify-between",type:"secondary"},{default:K(()=>[r("p",null,V(s(_)?t.$t("show_filter"):t.$t("close_filter")),1),ie]),_:1})]),r("div",ne,[r("div",de,[b(i,{show_filter:!s(_),brands:(m=s(a))==null?void 0:m.brands,sub_categories:(p=s(a))==null?void 0:p.sub_categories,onSomeChange:e[0]||(e[0]=n=>N(n))},null,8,["show_filter","brands","sub_categories"])]),r("div",ue,[b(i,{show_filter:s(_),brands:(f=s(a))==null?void 0:f.brands,sub_categories:(h=s(a))==null?void 0:h.sub_categories,onSomeChange:e[1]||(e[1]=n=>N(n))},null,8,["show_filter","brands","sub_categories"])]),r("div",ce,[r("div",_e,[(y(!0),v(W,null,ee((O=s(a))==null?void 0:O.products,(n,he)=>(y(),v("div",{key:n,draggable:"true",class:"group relative md:w-[266px] w-[176px] product_item mb-3 hover:shadow-none md:hover:shadow-hero hover:bg-[#D9D9D940] transition-all ease-in-out duration-200 rounded-xl flex flex-col justify-start items-center"},[b(d,{item:n},null,8,["item"])]))),128)),(E=s(a))!=null&&E.products?j("",!0):(y(),v("div",me,V(t.$t("no_product")),1))]),s(u)!=1?(y(),v("div",pe,[b(c,{"total-items":s($),modelValue:s(u),"onUpdate:modelValue":e[2]||(e[2]=n=>te(u)?u.value=n:null)},null,8,["total-items","modelValue"])])):j("",!0)])])])}}},Re=Y(fe,[["__scopeId","data-v-b1475c25"]]);export{Re as default};
