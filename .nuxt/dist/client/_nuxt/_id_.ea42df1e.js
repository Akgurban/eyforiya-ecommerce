import{_ as P}from"./base-button.56e482cf.js";import{_ as T}from"./FilteredSidebar.50618983.js";import{_ as Z}from"./base-product.32763982.js";import{_ as z}from"./base-paginate.f1d4a6f0.js";import{g as A,a as H,b as L,h as Q}from"./entry.82f784ed.js";import{u as q}from"./useMyFetch.0569002b.js";import{_ as Y}from"./filter.ac2462a9.js";import{_ as K}from"./_plugin-vue_export-helper.c27b6911.js";import{a as m,aa as J,b as O,Z as f,I as h,R as n,H as y,M as W,U as R,u as s,G as X,Y as ee,e as te,Q as U,a7 as oe,a8 as ae}from"./swiper-vue.91aa2a35.js";import"./base-input.20ca132f.js";import"./v4.a960c1f4.js";import"./chevron-left.f4480484.js";import"./nuxt-link.b986833e.js";import"./like.3fdeebb8.js";import"./TrashButtonAndCounter.5291e78b.js";import"./trash.3aa2d685.js";import"./trash.86b8399b.js";import"./authStore.6c3fac07.js";import"./favourite.87041a73.js";import"./chevron-right.fb3b1150.js";import"./fetch.dc8ba421.js";const G=v=>(oe("data-v-ea40ceef"),v=v(),ae(),v),se={class:"2xl:w-[1440px] xl:screen mx-auto"},re={class:"flex justify-between px-3"},ie=G(()=>n("div",null,null,-1)),ne=G(()=>n("img",{src:Y,class:"inline w-5",alt:""},null,-1)),le={class:"flex justify-between gap-5 items-start"},de={class:"md:block hidden w-full 2xl:w-[25%] lg:w-[28%] z-20"},ce={class:"block md:hidden absolute w-full 2xl:w-[25%] lg:w-[28%]"},ue={class:"w-full"},_e={style:{height:"auto !important","padding-bottom":"20px !important"},class:"flex flex-wrap gap-3 justify-start mx-auto mt-5"},pe={key:0},me={key:0,class:"mt-20 text-center w-full text-6xl text-gray-500 font-alatsi font-bold"},fe={__name:"[id]",async setup(v){var I,B,E;let d,g;const{locale:w,locales:$}=A(),S=H(),t=L(),i=m(""),_=m(!0);m("");const c=m(1);m([{code:"",name:"none"},{code:"asc",name:"min_to"},{code:"desc",name:"max_to"}]),Q("$qnUG0TNUvZ");async function N(e){var o;console.log(e),c.value=1,(o=e.brnd)!=null&&o.length&&$.value.forEach(a=>{a.code==w.value&&S.push({path:`${a.code2}/brand_id/${e.brnd[e.brnd.length-1]}`,query:{filter:JSON.stringify([`${e.brnd[e.brnd.length-1]}`]),order:e.ord,p:"1"}})})}const M=()=>{_.value=!_.value},k=async()=>{var a,r,u,b,p;t.query.order,t.query.p,t.params.id,(a=t.query)!=null&&a.filter&&((u=JSON.parse((r=t.query)==null?void 0:r.filter))!=null&&u.length)&&JSON.parse((b=t.query)==null?void 0:b.filter),t.params.id,t.query.catId&&t.query.catId;const{data:e,status:o}=await q(()=>"/api/v1/client/products/brand-products",{query:{brand_id:t.params.id,limit:24,offset:t.query.p,lang:"tm",order:t.query.order}});o&&(console.log(e.value,"poo"),i.value=(p=e.value)==null?void 0:p.data),await q(`/api/v1/client/products/brands?lang=${w.value}`)};[d,g]=J(()=>k()),await d,g(),(I=t.query)!=null&&I.filter&&i.value&&((E=(B=i.value)==null?void 0:B.brands)==null||E.forEach(e=>{var o,a;(a=JSON.parse((o=t.query)==null?void 0:o.filter))==null||a.forEach(r=>{r==e.uuid&&(e.selected=!0)})})),O(()=>t.query,async()=>{var e;await k(),(e=x.value.data)==null||e.forEach(o=>{var a,r;(r=JSON.parse((a=t.query)==null?void 0:a.filter))==null||r.forEach(u=>{u==o.uuid&&(o.selected=!0)})})}),O(c,async()=>{$.value.forEach(e=>{var o,a;e.code==w.value&&S.push({path:`${e.code2}/brand_id/${t.params.id}`,query:{filter:(o=t.query)==null?void 0:o.filter,order:(a=t.query)==null?void 0:a.order,p:c.value}})}),console.log(t,"sw"),window.scrollTo(0,0)});const{data:x}=([d,g]=J(()=>q(`/api/v1/client/products/brands?lang=${w.value}`)),d=await d,g(),d);return(e,o)=>{var p,C,V,j,D,F;const a=P,r=T,u=Z,b=z;return f(),h("div",se,[n("div",re,[ie,y(a,{onClick:M,class:"self-end w-32 lg:hidden flex justify-between",type:"secondary"},{default:W(()=>[n("p",null,R(s(_)?e.$t("show_filter"):e.$t("close_filter")),1),ne]),_:1})]),n("div",le,[n("div",de,[y(r,{show_filter:!s(_),brands:s(x).data,show_cat:!1,sub_categories:(p=s(i))==null?void 0:p.sub_categories,onSomeChange:o[0]||(o[0]=l=>N(l))},null,8,["show_filter","brands","sub_categories"])]),n("div",ce,[y(r,{show_filter:s(_),show_cat:!1,brands:s(x).data,sub_categories:(C=s(i))==null?void 0:C.sub_categories,onSomeChange:o[1]||(o[1]=l=>N(l))},null,8,["show_filter","brands","sub_categories"])]),n("div",ue,[n("div",_e,[(f(!0),h(X,null,ee((V=s(i))==null?void 0:V.products,(l,he)=>(f(),h("div",{key:l,draggable:"true",class:"group relative md:w-[266px] w-[176px] product_item mb-3 hover:shadow-none md:hover:shadow-hero hover:bg-[#D9D9D940] transition-all ease-in-out duration-200 rounded-xl flex flex-col justify-between items-center"},[y(u,{item:l},null,8,["item"])]))),128))]),((j=s(i))==null?void 0:j.count)!==0?(f(),h("div",pe,[y(b,{"total-items":(D=s(i))==null?void 0:D.count,modelValue:s(c),"onUpdate:modelValue":o[2]||(o[2]=l=>te(c)?c.value=l:null)},null,8,["total-items","modelValue"])])):U("",!0)]),(F=s(i))!=null&&F.products?U("",!0):(f(),h("div",me,R(e.$t("no_product")),1))])])}}},Re=K(fe,[["__scopeId","data-v-ea40ceef"]]);export{Re as default};
