import{_ as T}from"./base-select.1ff016f2.js";import{_ as U}from"./base-button.0f6fb678.js";import{_ as j}from"./base-paginate.cb502292.js";import{c as N,a as P}from"./entry.20de8b78.js";import{u as R}from"./user.20fb0827.js";import{a as f,aa as I,b as V,Z as u,I as c,R as e,K as M,u as d,H as i,e as C,M as x,S as h,G as S,Y as B,U as m}from"./swiper-vue.406cf000.js";import"./chevron-left.4af3a964.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./chevron-right.c437f043.js";import"./fetch.cad9ce74.js";import"./adminStore.e429c590.js";const Y={class:"w-80 flex gap-2 items-center ml-auto"},Z={class:"rounded-md p-2 m-1 flex justify-between"},A=e("p",{class:"font-bold"},"Zakazlar",-1),D={class:"bg-gray-200 cursor-pointer flex justify-between items-center text-lg font-bold rounded-md p-2 m-1"},E={class:"flex gap-3"},F={class:"pl-10"},G=["src"],ot={__name:"index",async setup(H){let p,k;const _=R(),w=N(),r=f(1),b=f(1),g=f(null);P();const n=f({name:"garashylyar"});try{const{data:a}=([p,k]=I(()=>_.getOrders({limit:25,offset:0,status:n.value.name=="tassyklanan"})),p=await p,k(),p);g.value=a.value.data.orders}catch(a){console.log(a)}const y=async()=>{var a;try{const{data:t}=await _.getOrders({limit:15,offset:r.value-1,status:n.value.name=="tassyklanan"});g.value=t.value.data.orders,b.value=(a=t.value.data)==null?void 0:a.count}catch(t){console.log(t)}},$=async a=>{try{const{data:t,status:l}=await _.deleteOrders(a.order_id);l&&w.success("order deleted!"),await y()}catch(t){console.log(t)}},z=async a=>{try{const{data:t,status:l}=await _.updateOrder({status:n.value.name!=="tassyklanan",uuid:a.order_id});l&&w.success("Status uytgedi!"),await y()}catch(t){console.log(t)}};return V(n,async()=>{await y()}),V(r,async()=>{await y()}),(a,t)=>{const l=T,v=U,O=j;return u(),c("div",null,[e("div",Y,[e("div",{class:M(["text-xl font-bold",d(n).name=="tassyklanan"?"text-green-700":"text-red-500"])}," Yagdayy: ",2),i(l,{modelValue:d(n),"onUpdate:modelValue":t[0]||(t[0]=s=>C(n)?n.value=s:null),options:[{name:"tassyklanan"},{name:"garashylyar"}]},null,8,["modelValue"])]),e("div",Z,[A,i(v,{type:""},{default:x(()=>[h("Pozmak")]),_:1})]),e("ul",null,[(u(!0),c(S,null,B(d(g),s=>(u(),c("div",{class:"bg-gray-200 cursor-pointer text-lg font-bold rounded-md p-2 m-1",key:s.uuid},[e("div",D,[e("p",null,"name: "+m(s.username),1),e("p",null,"+993 "+m(s.string),1),e("div",E,[i(v,{onClick:o=>z(s),type:"primary"},{default:x(()=>[h("Status uytget")]),_:2},1032,["onClick"]),i(v,{onClick:o=>$(s),type:"danger"},{default:x(()=>[h("Pozmak")]),_:2},1032,["onClick"])])]),e("ul",F,[(u(!0),c(S,null,B(s.products,o=>(u(),c("li",{class:"mt-2 odd:bg-gray-50 even:bg-gray-100 cursor-pointer flex justify-between items-center text-lg font-bold rounded-md p-2 m-1",key:o.uuid},[e("img",{src:`http://duypbaha.com.tm/api/v1/uploads/images/${o==null?void 0:o.img_path}`,alt:"",class:"h-10 w-15"},null,8,G),e("p",null,m(o.product_name),1),e("p",null,m(o.price)+" TMT",1),e("p",null,"count: "+m(o.count),1)]))),128))])]))),128)),i(O,{modelValue:d(r),"onUpdate:modelValue":t[1]||(t[1]=s=>C(r)?r.value=s:null),"total-items":d(b)},null,8,["modelValue","total-items"])])])}}};export{ot as default};
