import{_ as k}from"./base-input.ad203584.js";import{_ as R}from"./base-img-upload.61024c86.js";import{u as U,_ as I}from"./user.450c21c9.js";import{b,a as E}from"./entry.54e19d71.js";import{a as s,a0 as $,M as j,X as r,H as d,u as i,e as c,N as M,L as N}from"./swiper-vue.00c128fd.js";import"./v4.a960c1f4.js";const T=r("div",{class:"my-4 font-bold bg-slate-300 p-2"},"Banner gosun",-1),z={class:"flex gap-4 justify-between w-full"},A={class:"flex flex-col justify-between"},S={class:"flex justify-between mt-3"},D={class:"w-[400px]"},F=r("button",null,"Add Category",-1),K={__name:"[id]",async setup(G){var h;let m,_;const y=U();b();const g=E();s(null);const l=s(null),o=s(null),t=s(null),u=s(null),v=s(null);try{console.log(g.params);const{data:e}=([m,_]=$(()=>y.getOneCategories(g.params.id)),m=await m,_(),m);console.log(e,"dai"),l.value=e.data.name_tm,t.value=e.data.name_en,o.value=e.data.name_ru,v.value=(h=e==null?void 0:e.data)==null?void 0:h.image}catch(e){console.log(e)}const f=e=>{if(e==="")return"dogry dolduryn"},C=e=>{if(e==="")return"dogry dolduryn"},V=e=>{if(e==="")return"dogry dolduryn"},w=async()=>{try{if(console.log(!l.value),!l.value||!t.value||!o.value)throw f(l.value),V(t.value),C(o.value),alert("Maglumatlary doly giriziň!"),"Maglumatlary doly giriziň!";const e=new FormData;e.append("name_tm",l.value),e.append("name_ru",o.value),e.append("name_en",t.value),e.append("uuid",g.params.id),u.value&&e.append("img",u.value);const{data:a}=await y.editCategories(e);a.status&&alert("Categoriya Gosuldy"),b().push("/admin/categories")}catch(e){console.log(e)}};return(e,a)=>{const p=k,x=R,B=I;return N(),j("div",null,[T,r("div",z,[r("div",A,[d(p,{validate:f,name:"Categoriya Turkmen",label:"Categoriya Turkmen",placeholder:"Categoriya Turkmen",modelValue:i(l),"onUpdate:modelValue":a[0]||(a[0]=n=>c(l)?l.value=n:null)},null,8,["modelValue"]),d(p,{validate:C,name:"Categoriya Rus",label:"Categoriya Rus",placeholder:"Categoriya Rus",modelValue:i(o),"onUpdate:modelValue":a[1]||(a[1]=n=>c(o)?o.value=n:null)},null,8,["modelValue"]),d(p,{validate:V,name:"Categoriya English",label:"Categoriya English",placeholder:"Categoriya English",modelValue:i(t),"onUpdate:modelValue":a[2]||(a[2]=n=>c(t)?t.value=n:null)},null,8,["modelValue"])])]),r("div",S,[r("div",D,[d(x,{currentImg:`http://duypbaha.com.tm/api/v1/uploads/categories/${i(v)}`,modelValue:i(u),"onUpdate:modelValue":a[3]||(a[3]=n=>c(u)?u.value=n:null)},null,8,["currentImg","modelValue"])]),d(B,{onClick:w,class:"",type:"secondary"},{default:M(()=>[F]),_:1})])])}}};export{K as default};
