import{_ as w}from"./trash.3aa2d685.js";import{a as g,Z as d,I as i,H as l,M as _,u as c,R as s,U as x,Q as f,a2 as h,a7 as k,a8 as S}from"./swiper-vue.91aa2a35.js";import{u as v}from"./useMyFetch.0569002b.js";import"./entry.82f784ed.js";import{a as T}from"./trash.86b8399b.js";import{u as C}from"./authStore.6c3fac07.js";import{_ as I}from"./_plugin-vue_export-helper.c27b6911.js";const B=""+new URL("add_cart.803e3000.svg",import.meta.url).href;const F=a=>(k("data-v-7f4158eb"),a=a(),S(),a),N={class:"relative w-full md:h-17.5 h-13 mt-6 flex items-center justify-center"},V=F(()=>s("img",{class:"mx-auto h-9 md:h-10",src:B,alt:""},null,-1)),j={class:"absolute top-0 right-1/2 translate-x-1/2 flex items-center gap-3 text-white h-fit"},A={class:"md:text-xl text-lg font-alatsi font-semibold uppercase whitespace-nowrap mt-1 md:mt-0"},L={key:0,class:"w-[105%] mx-auto text-center z-20 md:h-17.5 h-13"},O={class:"w-full font-bold border border-gray-600 justify-evenly flex gap-2 px-6 py-[1px] md:py-[2px] rounded-xl bg-[#F6F6F6]"},E=["disable"],M={class:"cursor-auto md:cursor-pointer text-2xl md:text-2xl font-bold w-7 text-center"},P={__name:"TrashButtonAndCounter",props:{item:{type:Object,required:!0},count:{type:Number,default:0}},emits:["update:modelValue"],setup(a,{emit:R}){var p;const o=a,r=C(),u=T(),t=g(0);o.count>0&&(t.value=o.count),(p=u.trash_items.products)==null||p.forEach((e,y)=>{var n;(e==null?void 0:e.uuid)==((n=o.item)==null?void 0:n.uuid)&&(t.value=e.count)});const m=async()=>{var e;t.value+=1,u.setLocalStorage(o.item,t.value),r.userToken&&await v("/api/v1/client/trash/create",{body:{user_id:(e=r.userToken)==null?void 0:e.uuid,product_id:o.item.uuid,count:t.value},method:"POST"})},b=async()=>{var e;t.value-=1,u.removeLocalStorage(o.item,t.value),r.userToken&&await v("/api/v1/client/trash/create",{body:{user_id:(e=r.userToken)==null?void 0:e.uuid,product_id:o.item.uuid,count:t.value},method:"POST"})};return(e,y)=>{const n=w;return d(),i("div",N,[l(h,{name:"fade2",mode:"out-in",class:"absolute top-0"},{default:_(()=>[c(t)<=0?(d(),i("div",{key:0,onClick:m,class:"relative select-none mb-[20px] hover:scale-95 transition-transform duration-150"},[V,s("div",j,[s("div",A,x(e.$t("add_to")),1),l(n,{draggable:"false",class:"inline pointer-events-none md:w-9 w-6 md:h-9 h-6"})])])):f("",!0)]),_:1}),l(h,{name:"fade2",mode:"out-in",class:"absolute top-0 mx-auto block w-auto mt-2"},{default:_(()=>[c(t)>0?(d(),i("div",L,[s("div",O,[s("div",{onClick:b,disable:c(t)<=0,class:"cursor-auto md:cursor-pointer text-2xl md:text-3xl font-bold text-[#3C4242] px-2 select-none"}," - ",8,E),s("div",M,x(c(t)),1),s("div",{onClick:m,class:"cursor-auto md:cursor-pointer text-2xl md:text-3xl font-bold text-[#3C4242] px-2 select-none"}," + ")])])):f("",!0)]),_:1})])}}},$=I(P,[["__scopeId","data-v-7f4158eb"]]);export{$ as _};
