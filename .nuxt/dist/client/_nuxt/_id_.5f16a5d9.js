import{_ as A}from"./base-input.cd175c59.js";import{_ as Q}from"./base-select.eb396387.js";import{_ as Z}from"./base-textarea.6d5663a6.js";import{_ as q}from"./base-img-upload.cfd6955b.js";import{_ as z}from"./base-button.0f6fb678.js";import{a as J,b as K}from"./entry.0e1dff64.js";import{u as W}from"./user.485876aa.js";import{u as X}from"./loader.080297c9.js";import{a as o,aa as ee,Z as B,I as R,R as r,H as s,u as l,e as d,G as ae,Y as le,L as te,Q as F,M as oe}from"./swiper-vue.406cf000.js";import"./v4.a960c1f4.js";import"./plus.a645f405.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./fetch.9d574d35.js";import"./adminStore.4ed59a84.js";const ue=r("div",{class:"my-4 font-bold bg-slate-300 p-2"},"Habar gosun",-1),ne={class:"flex gap-4 justify-between w-full"},se={class:"w-[400px] flex flex-col gap-3"},de={class:"flex flex-col justify-between gap-3 w-[400px]"},re={class:"flex gap-3"},ie={class:"flex gap-3 my-5"},me=["onClick"],ce={class:"flex justify-between mb-30"},pe=r("button",null,"Harydy Gosh",-1),Re={__name:"[id]",async setup(_e){let I,S;const c=W(),D=X(),G=J(),P=K(),_=o([]),p=o([]),v=o(null),g=o(null),y=o(null),f=o(null),b=o(null),V=o(null),T=o(null),$=o(null),L=o(null),h=o(null),w=o(null),k=o(null),U=o(null),E=async()=>{try{const{data:i}=await c.getSubCategories(),{data:e}=await c.getSpecialCategories(),{data:n}=await c.getBrand(),{data:t}=await c.OneProduct(P.params.id);T.value=i.value.data,$.value=e.value.data,L.value=n.value.data,D.endLoading(),p.value=t.value.data.images,f.value=t.value.data.name_tm,V.value=t.value.data.name_ru,b.value=t.value.data.name_en,v.value=t.value.data.description_tm,g.value=t.value.data.description_en,y.value=t.value.data.description_ru,h.value=+t.value.data.price,U.value={name:t.value.data.brand_name,uuid:t.value.data.brand_id},w.value={name:t.value.data.special_categ_name,uuid:t.value.data.special_categ_id},k.value={name:t.value.data.sub_category_name,uuid:t.value.data.sub_category_id}}catch(i){console.log(i)}},M=async()=>{var i,e,n,t;try{const{data:m,status:H}=await c.editProduct({sub_category_id:(i=k.value)==null?void 0:i.uuid,name_tm:f.value,name_ru:V.value,name_en:b.value,description_tm:v.value,description_en:g.value,description_ru:y.value,price:+h.value,brand_id:((e=U.value)==null?void 0:e.uuid)||null,special_category_id:((n=w.value)==null?void 0:n.uuid)||null,uuid:P.params.id});m.value.status&&((t=_.value)==null||t.forEach(async(j,a)=>{const u=new FormData;u.append("product_id",m.value.data),u.append("img",_.value[a]);const{data:C,status:x}=await c.addProductImage(u)}),G.push("/admin/products"))}catch(m){console.log(m)}},Y=async i=>{try{D.startLoading();const{data:e,status:n}=await c.deleteProductImage(i);n&&(await E(),D.endLoading())}catch(e){console.log(e)}};return[I,S]=ee(()=>E()),await I,S(),(i,e)=>{const n=A,t=Q,m=Z,H=q,j=z;return B(),R("div",null,[r("div",null,[ue,r("div",ne,[r("div",se,[s(n,{name:"Turkmenca ady",label:"Turkmenca ady",placeholder:"Turkmenca ady",modelValue:l(f),"onUpdate:modelValue":e[0]||(e[0]=a=>d(f)?f.value=a:null)},null,8,["modelValue"]),s(n,{name:"Rusca ady",label:"Rusca ady",placeholder:"Rusca ady",modelValue:l(V),"onUpdate:modelValue":e[1]||(e[1]=a=>d(V)?V.value=a:null)},null,8,["modelValue"]),s(n,{name:"inlisce ady",label:"inlisce ady",placeholder:"inlisce ady",modelValue:l(b),"onUpdate:modelValue":e[2]||(e[2]=a=>d(b)?b.value=a:null)},null,8,["modelValue"])]),r("div",de,[s(t,{modelValue:l(w),"onUpdate:modelValue":e[3]||(e[3]=a=>d(w)?w.value=a:null),label:"Yorite kategoriya saylan",options:l($)},null,8,["modelValue","options"]),s(t,{modelValue:l(k),"onUpdate:modelValue":e[4]||(e[4]=a=>d(k)?k.value=a:null),label:"kici kategoriya saylan",options:l(T)},null,8,["modelValue","options"]),s(t,{modelValue:l(U),"onUpdate:modelValue":e[5]||(e[5]=a=>d(U)?U.value=a:null),label:"brend saylan",options:l(L)},null,8,["modelValue","options"])])]),r("div",re,[s(m,{name:"Turkmence Dusundiris",label:"Turkmence Dusundiris",placeholder:"Turkmence Dusundiris ",modelValue:l(v),"onUpdate:modelValue":e[6]||(e[6]=a=>d(v)?v.value=a:null),class:"mt-4"},null,8,["modelValue"]),s(m,{name:"Rusca Dusundiris",label:"Rusca Dusundiris",placeholder:"Rusca Dusundiris ",modelValue:l(y),"onUpdate:modelValue":e[7]||(e[7]=a=>d(y)?y.value=a:null),class:"mt-4"},null,8,["modelValue"]),s(m,{name:"Englishe Dusundiris",label:"Englishe Dusundiris",placeholder:"Englishe Dusundiris ",modelValue:l(g),"onUpdate:modelValue":e[8]||(e[8]=a=>d(g)?g.value=a:null),class:"mt-4"},null,8,["modelValue"])]),r("div",ie,[(B(),R(ae,null,le(5,(a,u)=>{var C,x,N;return r("div",{key:u,class:"flex flex-col w-[200px] gap-2 relative"},[l(_).length>=u||l(p).length>=u?(B(),te(H,{key:0,class:"w-[200px]",currentImg:(C=l(p)[u])!=null&&C.img_path?`http://duypbaha.com.tm/api/v1/uploads/images/${l(p)[u].img_path}`:null,isChangable:!((x=l(p)[u])!=null&&x.img_path),modelValue:l(_)[u],"onUpdate:modelValue":O=>l(_)[u]=O},null,8,["currentImg","isChangable","modelValue","onUpdate:modelValue"])):F("",!0),(N=l(p)[u])!=null&&N.img_path?(B(),R("div",{key:1,onClick:O=>Y(l(p)[u].img_uuid),class:"text-white cursor-pointer hover:bg-red-500 px-2 w-full bg-red-600 mt-auto absolute -bottom-5"}," Delete ",8,me)):F("",!0)])}),64))])]),r("div",ce,[s(n,{name:"baha",type:"number",placeholder:"Harydyn bahasy Manatda",modelValue:l(h),"onUpdate:modelValue":e[9]||(e[9]=a=>d(h)?h.value=a:null)},null,8,["modelValue"]),s(j,{onClick:M,class:"",type:"secondary"},{default:oe(()=>[pe]),_:1})])])}}};export{Re as default};
