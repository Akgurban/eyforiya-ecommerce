import{_ as P}from"./base-button.0f6fb678.js";import{_ as U}from"./FilteredSidebar.329644a2.js";import{_ as H}from"./base-product.fad2a1a9.js";import{_ as M}from"./base-paginate.cb502292.js";import{g as T,a as z,b as G,h as L,u as Q}from"./entry.20de8b78.js";import{u as X}from"./useMyFetch.5f947471.js";import{_ as Y}from"./filter.ac2462a9.js";import{_ as Z}from"./_plugin-vue_export-helper.c27b6911.js";import{a as x,aa as K,b as J,Z as y,I as v,R as n,H as g,M as W,U as V,u as a,G as ee,Y as te,Q as j,e as oe,a7 as se,a8 as ae}from"./swiper-vue.406cf000.js";import"./base-input.cd175c59.js";import"./v4.a960c1f4.js";import"./chevron-left.4af3a964.js";import"./nuxt-link.bb2e9639.js";import"./like.ce290c70.js";import"./TrashButtonAndCounter.21828bf0.js";import"./trash.5beb687a.js";import"./trash.98aacda8.js";import"./authStore.b7218c75.js";import"./favourite.a0934c96.js";import"./chevron-right.c437f043.js";import"./fetch.cad9ce74.js";const D=w=>(se("data-v-635e13ef"),w=w(),ae(),w),re={class:"2xl:w-[1440px] xl:screen mx-auto"},le={class:"flex justify-between"},ie=D(()=>n("div",null,null,-1)),ne=D(()=>n("img",{src:Y,class:"inline w-5",alt:""},null,-1)),de={class:"flex justify-between gap-5"},ue={class:"md:block hidden w-full 2xl:w-[25%] lg:w-[28%] z-20 sticky top-60"},ce={class:"block md:hidden absolute w-full 2xl:w-[25%] lg:w-[28%]"},_e={class:"w-full"},fe={class:"flex flex-wrap gap-3 w-full justify-start mx-auto mt-5 px-2"},pe={key:0,class:"mt-20 text-center w-full text-6xl text-gray-500 font-alatsi font-bold"},me={key:0,class:""},he={__name:"[id]",async setup(w){var E,O;let q,I;const{locale:b,locales:k}=T(),R=z(),o=G(),s=x(""),c=x(1),N=x(15),_=x(!0),A=()=>{_.value=!_.value};L("$5CUfd3qgOX");async function $(t){console.log(b,k),k.value.forEach(e=>{e.code==b.value&&(console.log(e.code,b.value),R.push({path:`${e.code2}/filtered-product/${o.params.id}`,query:{filter:JSON.stringify(t.brnd),order:t.ord,catId:t.sub}}))})}const S=async()=>{var l,i,d,f,p,m,h;let t={category_id:o.params.id,lang:b.value,limit:15,offset:c.value};(l=o.query)!=null&&l.filter&&((d=JSON.parse((i=o.query)==null?void 0:i.filter))!=null&&d.length)&&(t.brand_id=JSON.parse((f=o.query)==null?void 0:f.filter)),o.query.order&&(t.order=o.query.order),o.query.catId&&(t.sub_category_id=o.query.catId);const{data:e,status:r}=await X(()=>"/api/v1/client/products/product",{method:"POST",body:t});r&&(s.value=(p=e.value)==null?void 0:p.data,console.log(e.value,"[]"),N.value=(h=(m=e.value)==null?void 0:m.data)==null?void 0:h.product_count)};return[q,I]=K(()=>S()),await q,I(),s.value&&((O=(E=s.value)==null?void 0:E.brands)==null||O.forEach(t=>{var e;(e=JSON.parse(o.query.filter))==null||e.forEach(r=>{r==t.uuid&&(t.selected=!0)})})),J(()=>o.query,async()=>{var t,e;await S(),(e=(t=s.value)==null?void 0:t.brands)==null||e.forEach(r=>{var l,i;(i=JSON.parse((l=o.query)==null?void 0:l.filter))==null||i.forEach(d=>{d==r.uuid&&(r.selected=!0)})})}),J(c,async()=>{var t,e;await S(),(e=(t=s.value)==null?void 0:t.brands)==null||e.forEach(r=>{var l,i;(i=JSON.parse((l=o.query)==null?void 0:l.filter))==null||i.forEach(d=>{d==r.uuid&&(r.selected=!0)})}),window.scrollTo(0,0)}),Q({title:"All products-Ähli harytlar-Все Товары",meta:[{name:"description",content:"All products-Ähli harytlar-Все Товары"}]}),(t,e)=>{var f,p,m,h,B,C,F;const r=P,l=U,i=H,d=M;return y(),v("div",re,[n("div",le,[ie,g(r,{onClick:A,class:"self-end w-32 lg:hidden flex justify-between",type:"secondary"},{default:W(()=>[n("p",null,V(a(_)?t.$t("show_filter"):t.$t("close_filter")),1),ne]),_:1})]),n("div",de,[n("div",ue,[g(l,{show_filter:!a(_),brands:(f=a(s))==null?void 0:f.brands,sub_categories:(p=a(s))==null?void 0:p.sub_categories,onSomeChange:e[0]||(e[0]=u=>$(u))},null,8,["show_filter","brands","sub_categories"])]),n("div",ce,[g(l,{show_filter:a(_),brands:(m=a(s))==null?void 0:m.brands,sub_categories:(h=a(s))==null?void 0:h.sub_categories,onSomeChange:e[1]||(e[1]=u=>$(u))},null,8,["show_filter","brands","sub_categories"])]),n("div",_e,[n("div",fe,[(y(!0),v(ee,null,te((B=a(s))==null?void 0:B.products,(u,ye)=>(y(),v("div",{key:u,draggable:"true",class:"group relative md:w-[266px] w-[176px] product_item mb-3 hover:shadow-none md:hover:shadow-hero hover:bg-[#D9D9D940] transition-all ease-in-out duration-200 rounded-xl flex flex-col justify-start items-center"},[g(i,{item:u},null,8,["item"])]))),128)),(C=a(s))!=null&&C.products?j("",!0):(y(),v("div",pe,V(t.$t("no_product")),1))]),(F=a(s))!=null&&F.products?(y(),v("div",me,[g(d,{"total-items":a(N),modelValue:a(c),"onUpdate:modelValue":e[2]||(e[2]=u=>oe(c)?c.value=u:null)},null,8,["total-items","modelValue"])])):j("",!0)])])])}}},Ae=Z(he,[["__scopeId","data-v-635e13ef"]]);export{Ae as default};
