import{_ as j}from"./base-button.0f6fb678.js";import{_ as R}from"./FilteredSidebar.de494caa.js";import{_ as U}from"./base-product.5a8ef81f.js";import{g as V,a as G,b as M,h as Z}from"./entry.377c9c4e.js";import{u as x}from"./useMyFetch.67d3bca0.js";import{_ as z}from"./filter.ac2462a9.js";import{_ as A}from"./_plugin-vue_export-helper.c27b6911.js";import{a as h,aa as C,b as H,Z as g,I as b,R as i,H as w,M as L,U as E,u as r,G as P,Y as Q,Q as T,a7 as Y,a8 as K}from"./swiper-vue.406cf000.js";import"./base-input.cd175c59.js";import"./v4.a960c1f4.js";import"./chevron-left.4af3a964.js";import"./nuxt-link.164f5bb6.js";import"./like.ce290c70.js";import"./TrashButtonAndCounter.fce86287.js";import"./trash.5beb687a.js";import"./trash.938eefd6.js";import"./authStore.c153be1c.js";import"./favourite.b5565706.js";import"./fetch.096dfd57.js";const D=m=>(Y("data-v-e578307f"),m=m(),K(),m),W={class:"2xl:w-[1440px] xl:screen mx-auto"},X={class:"flex justify-between px-3"},ee=D(()=>i("div",null,null,-1)),te=D(()=>i("img",{src:z,class:"inline w-5",alt:""},null,-1)),ae={class:"lead flex gap-5"},oe={class:"md:block hidden w-full 2xl:w-[25%] lg:w-[28%] z-20"},se={class:"block md:hidden absolute w-full 2xl:w-[25%] lg:w-[28%]"},re={style:{width:"96% !important",height:"auto !important","user-select":"none !important","padding-bottom":"20px !important"},class:"flex flex-wrap gap-3 justify-start mx-auto mt-5"},ie={key:0,class:"mt-20 text-center w-full text-6xl text-gray-500 font-alatsi font-bold"},ne={__name:"[id]",async setup(m){var $,N,I;let l,f;const{locale:v,locales:F}=V(),J=G(),a=M(),n=h(""),u=h(!0);h(""),h([{code:"",name:"none"},{code:"asc",name:"min_to"},{code:"desc",name:"max_to"}]),Z("$qnUG0TNUvZ");async function q(e){var t;console.log(e),(t=e.brnd)!=null&&t.length&&F.value.forEach(o=>{o.code==v.value&&J.push({path:`${o.code2}/brand_id/${e.brnd[e.brnd.length-1]}`,query:{filter:JSON.stringify([`${e.brnd[e.brnd.length-1]}`]),order:e.ord}})})}const O=()=>{u.value=!u.value},S=async()=>{var o,s,d,_,p;a.query.order,a.params.id,(o=a.query)!=null&&o.filter&&((d=JSON.parse((s=a.query)==null?void 0:s.filter))!=null&&d.length)&&JSON.parse((_=a.query)==null?void 0:_.filter),a.params.id,a.query.catId&&a.query.catId;const{data:e,status:t}=await x(()=>"/api/v1/client/products/brand-products",{query:{brand_id:a.params.id,limit:10,offset:0,lang:"tm",order:a.query.order}});t&&(console.log(e.value,"poo"),n.value=(p=e.value)==null?void 0:p.data),await x(`/api/v1/client/products/brands?lang=${v.value}`)};[l,f]=C(()=>S()),await l,f(),($=a.query)!=null&&$.filter&&n.value&&((I=(N=n.value)==null?void 0:N.brands)==null||I.forEach(e=>{var t,o;(o=JSON.parse((t=a.query)==null?void 0:t.filter))==null||o.forEach(s=>{s==e.uuid&&(e.selected=!0)})})),H(()=>a.query,async()=>{var e;await S(),(e=y.value.data)==null||e.forEach(t=>{var o,s;(s=JSON.parse((o=a.query)==null?void 0:o.filter))==null||s.forEach(d=>{d==t.uuid&&(t.selected=!0)})})});const{data:y}=([l,f]=C(()=>x(`/api/v1/client/products/brands?lang=${v.value}`)),l=await l,f(),l);return(e,t)=>{var _,p,k,B;const o=j,s=R,d=U;return g(),b("div",W,[i("div",X,[ee,w(o,{onClick:O,class:"self-end w-32 lg:hidden flex justify-between",type:"secondary"},{default:L(()=>[i("p",null,E(r(u)?e.$t("show_filter"):e.$t("close_filter")),1),te]),_:1})]),i("div",ae,[i("div",oe,[w(s,{show_filter:!r(u),brands:r(y).data,show_cat:!1,sub_categories:(_=r(n))==null?void 0:_.sub_categories,onSomeChange:t[0]||(t[0]=c=>q(c))},null,8,["show_filter","brands","sub_categories"])]),i("div",se,[w(s,{show_filter:r(u),show_cat:!1,brands:r(y).data,sub_categories:(p=r(n))==null?void 0:p.sub_categories,onSomeChange:t[1]||(t[1]=c=>q(c))},null,8,["show_filter","brands","sub_categories"])]),i("div",re,[(g(!0),b(P,null,Q((k=r(n))==null?void 0:k.products,(c,le)=>(g(),b("div",{key:c,draggable:"true",class:"group relative md:w-[266px] w-[176px] product_item mb-3 hover:shadow-none md:hover:shadow-hero hover:bg-[#D9D9D940] transition-all ease-in-out duration-200 rounded-xl flex flex-col justify-between items-center"},[w(d,{item:c},null,8,["item"])]))),128)),(B=r(n))!=null&&B.products?T("",!0):(g(),b("div",ie,E(e.$t("no_product")),1))])])])}}},ke=A(ne,[["__scopeId","data-v-e578307f"]]);export{ke as default};
