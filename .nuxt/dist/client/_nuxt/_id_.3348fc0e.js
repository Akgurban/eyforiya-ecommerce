import{_ as q}from"./base-input.8a34cfed.js";import{_ as z}from"./base-select.5f5e1096.js";import{_ as J}from"./base-textarea.eb5f5ad7.js";import{_ as K}from"./base-img-upload.ab7a2657.js";import{u as Q,_ as W}from"./user.f00e2132.js";import{b as Y,a as Z}from"./entry.e64b2ffb.js";import{u as ee}from"./loader.c2115905.js";import{a as o,a0 as ae,b as le,M as D,X as d,H as n,u as t,e as u,G as F,a1 as te,N as oe,L as B,O as ne,a3 as G}from"./swiper-vue.45949d5c.js";import"./v4.a960c1f4.js";const se=d("div",{class:"my-4 font-bold bg-slate-300 p-2"},"Habar gosun",-1),ue={class:"flex gap-4 justify-between w-full"},de={class:"w-[400px] flex flex-col gap-3"},re={class:"flex flex-col justify-between gap-3 w-[400px]"},ie={class:"flex gap-3"},ce={class:"flex gap-3 my-5"},me=["onClick"],pe={class:"flex justify-between mb-30"},_e=d("button",null,"Harydy Gosh",-1),Ue={__name:"[id]",async setup(ge){let C,R;const m=Q(),g=ee(),M=Y(),I=Z(),v=o([]),c=o([]),b=o(null),f=o(null),y=o(null),V=o(null),w=o(null),h=o(null),L=o(null),P=o(null),T=o(null),S=o(null),k=o(null),p=o(null),U=o(null),$=async()=>{try{const{data:r}=await m.getSubCategories(),{data:e}=await m.getSpecialCategories(),{data:i}=await m.getBrand(),{data:a}=await m.OneProduct(I.params.id);console.log(a,"sub prodf"),L.value=r.data,P.value=e.data,T.value=i.data,g.endLoading(),c.value=a.data.images,V.value=a.data.name_tm,h.value=a.data.name_ru,w.value=a.data.name_en,b.value=a.data.description_tm,f.value=a.data.description_en,y.value=a.data.description_ru,S.value=+a.data.price,U.value={name:a.data.brand_name,uuid:a.data.brand_id},k.value={name:a.data.special_categ_name,uuid:a.data.special_categ_id},p.value={name:a.data.sub_category_name,uuid:a.data.sub_category_id}}catch(r){console.log(r)}};[C,R]=ae(()=>$()),await C,R(),console.log(g,"loaderStore");const A=async()=>{var r,e,i;try{g.startLoading(),console.log(p.value,"selectedSub");const{data:a}=await m.editProduct({sub_category_id:(r=p.value)==null?void 0:r.uuid,name_tm:V.value,name_ru:h.value,name_en:w.value,description_tm:b.value,description_en:f.value,description_ru:y.value,price:+S.value,brand_id:((e=U.value)==null?void 0:e.uuid)||null,special_category_id:((i=k.value)==null?void 0:i.uuid)||null,uuid:I.params.id});if(a.status){const _=new FormData;_.append("product_id",a.data),v.value.forEach(async(E,x)=>{_.append("img",v.value[x]);const{data:l}=await m.addProductImage(_);console.log(l,"image"),l.status&&console.log(l)}),g.endLoading(),M.push("/admin/products")}}catch(a){console.log(a)}},X=async r=>{try{g.startLoading();const{data:e}=await m.deleteProductImage(r);console.log(e,"image"),e.status&&(await $(),g.endLoading())}catch(e){console.log(e)}};return le(c,()=>{console.log(p.value,"images wath")}),(r,e)=>{const i=q,a=z,_=J,E=K,x=W;return B(),D(F,null,[d("div",null,[se,d("div",ue,[d("div",de,[n(i,{name:"Turkmenca ady",label:"Turkmenca ady",placeholder:"Turkmenca ady",modelValue:t(V),"onUpdate:modelValue":e[0]||(e[0]=l=>u(V)?V.value=l:null)},null,8,["modelValue"]),n(i,{name:"Rusca ady",label:"Rusca ady",placeholder:"Rusca ady",modelValue:t(h),"onUpdate:modelValue":e[1]||(e[1]=l=>u(h)?h.value=l:null)},null,8,["modelValue"]),n(i,{name:"inlisce ady",label:"inlisce ady",placeholder:"inlisce ady",modelValue:t(w),"onUpdate:modelValue":e[2]||(e[2]=l=>u(w)?w.value=l:null)},null,8,["modelValue"])]),d("div",re,[n(a,{modelValue:t(k),"onUpdate:modelValue":e[3]||(e[3]=l=>u(k)?k.value=l:null),label:"Select Special category",options:t(P)},null,8,["modelValue","options"]),n(a,{modelValue:t(p),"onUpdate:modelValue":e[4]||(e[4]=l=>u(p)?p.value=l:null),label:"Select Sub Category",options:t(L)},null,8,["modelValue","options"]),n(a,{modelValue:t(U),"onUpdate:modelValue":e[5]||(e[5]=l=>u(U)?U.value=l:null),label:"Select Brand",options:t(T)},null,8,["modelValue","options"])])]),d("div",ie,[n(_,{name:"Turkmence Dusundiris",label:"Turkmence Dusundiris",placeholder:"Turkmence Dusundiris ",modelValue:t(b),"onUpdate:modelValue":e[6]||(e[6]=l=>u(b)?b.value=l:null),class:"mt-4"},null,8,["modelValue"]),n(_,{name:"Rusca Dusundiris",label:"Rusca Dusundiris",placeholder:"Rusca Dusundiris ",modelValue:t(y),"onUpdate:modelValue":e[7]||(e[7]=l=>u(y)?y.value=l:null),class:"mt-4"},null,8,["modelValue"]),n(_,{name:"English Dusundiris",label:"English Dusundiris",placeholder:"English Dusundiris ",modelValue:t(f),"onUpdate:modelValue":e[8]||(e[8]=l=>u(f)?f.value=l:null),class:"mt-4"},null,8,["modelValue"])]),d("div",ce,[(B(),D(F,null,te(5,(l,s)=>{var H,N,O;return d("div",{key:s,class:"flex flex-col w-[200px] gap-2 relative"},[t(v).length>=s||t(c).length>=s?(B(),ne(E,{key:0,class:"w-[200px]",currentImg:(H=t(c)[s])!=null&&H.img_path?`http://216.250.9.21:2000/api/v1/uploads/images/${t(c)[s].img_path}`:null,isChangable:!((N=t(c)[s])!=null&&N.img_path),modelValue:t(v)[s],"onUpdate:modelValue":j=>t(v)[s]=j},null,8,["currentImg","isChangable","modelValue","onUpdate:modelValue"])):G("",!0),(O=t(c)[s])!=null&&O.img_path?(B(),D("div",{key:1,onClick:j=>X(t(c)[s].img_uuid),class:"text-white cursor-pointer hover:bg-red-500 px-2 w-full bg-red-600 mt-auto absolute -bottom-5"}," Delete ",8,me)):G("",!0)])}),64))])]),d("div",pe,[n(i,{name:"baha",type:"number",placeholder:"Harydyn bahasy Manatda",modelValue:t(S),"onUpdate:modelValue":e[9]||(e[9]=l=>u(S)?S.value=l:null)},null,8,["modelValue"]),n(x,{onClick:A,class:"",type:"secondary"},{default:oe(()=>[_e]),_:1})])],64)}}};export{Ue as default};
