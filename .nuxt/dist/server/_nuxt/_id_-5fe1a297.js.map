{"version":3,"file":"_id_-5fe1a297.js","sources":["../../../../components/icon/chevron-left.vue","../../../../components/FilteredSidebar.vue","../../../../pages/filtered-product/[id].vue"],"sourcesContent":["<template>\r\n  <svg\r\n    width=\"12\"\r\n    height=\"18\"\r\n    viewBox=\"0 0 12 18\"\r\n    fill=\"currentColor\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path\r\n      d=\"M11.342 1.92793L4.27089 8.99903L11.342 16.07L9.5742 17.8378L0.735352 8.99903L9.5742 0.160156L11.342 1.92793Z\"\r\n      fill=\"currentColor\"\r\n    />\r\n  </svg>\r\n</template>\r\n","<template>\r\n  <div\r\n    class=\"relative px-2 py-2 lg:block hidden 2xl:w-[25%] lg:w-[28%] pb-10 bg-slate-100 rounded-md p-4\"\r\n  >\r\n    <div>\r\n      <div class=\"text-2xl font-alatsi mb-2\">Tertip</div>\r\n      <div>\r\n        <div v-for=\"item in orderList\" class=\"flex items-center gap-2\">\r\n          <BaseInput\r\n            @change=\"test(item)\"\r\n            heightFull\r\n            class=\"w-5 h-5\"\r\n            type=\"radio\"\r\n            name=\"price-filter\"\r\n            :checked=\"item.code == order\"\r\n          />\r\n          <div class=\"font-alatsi text-base\">{{ item.name }}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"mt-5\">\r\n      <div class=\"text-2xl font-alatsi mb-2\">Icki kategoriya saylan</div>\r\n      <div class=\"ml-5\" v-if=\"!route.query.catId\">\r\n        <p\r\n          v-for=\"item in sub_categories\"\r\n          @click=\"selectedSub = item.name\"\r\n          class=\"font-alatsi hover:text-[#44A4DB] cursor-auto md:cursor-pointer\"\r\n        >\r\n          {{ item.uuid }}\r\n        </p>\r\n      </div>\r\n      <div\r\n        v-else\r\n        @click=\"selectedSub = null\"\r\n        class=\"text-[#44A4DB] md:cursor-pointer cursor-auto font-alatsi ml-5\"\r\n      >\r\n        <IconChevronLeft class=\"inline text-[#44A4DB]\" /> = yza Cyk\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"relative mt-5\">\r\n      <div class=\"text-2xl font-alatsi mb-2\">Brend</div>\r\n\r\n      <div>\r\n        <div\r\n          class=\"right-0 border-t-2 h-auto duration-250 ease-in-out z-10 w-full\"\r\n        >\r\n          <ul\r\n            @click=\"checkBrands(option)\"\r\n            v-for=\"(option, index) in brands\"\r\n            :key=\"index\"\r\n          >\r\n            <li class=\"py-2 px-5 hover:bg-gray-100 cursor-pointer\">\r\n              <div class=\"flex items-center justify-start gap-2\">\r\n                <div class=\"h-4 w-4\">\r\n                  <input v-model=\"option.selected\" type=\"checkbox\" />\r\n                </div>\r\n                <div\r\n                  class=\"font-alatsi text-base hover:text-[#44A4DB] cursor-auto md:cursor-pointer\"\r\n                >\r\n                  {{ option.brand_name }}\r\n                </div>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nconst route = useRoute();\r\nconst emit = defineEmits([\"someChange\"]);\r\nconst props = defineProps({\r\n  brands: {\r\n    type: Array,\r\n    default: [],\r\n  },\r\n  sub_categories: {\r\n    type: Array,\r\n    default: [],\r\n  },\r\n});\r\n\r\nconst order = ref(\"desc\");\r\nif (route.query.order) {\r\n  order.value = route.query.order;\r\n}\r\nconst orderList = ref([\r\n  { code: \"desc\", name: \"Hic hili\" },\r\n  { code: \"asc\", name: \"Arzandan gymmada\" },\r\n  { code: \"desc\", name: \"Gymmatdan arzana\" },\r\n]);\r\n\r\nconst selectedBrands = ref([]);\r\nconst selectedSub = ref(\"\");\r\n\r\nprops.brands?.forEach((e) => {\r\n  JSON.parse(route.query.filter)?.forEach((item) => {\r\n    if (item == e.uuid) {\r\n      e.selected = true;\r\n      selectedBrands.value.push(e.uuid);\r\n    }\r\n  });\r\n});\r\n\r\nconst checkBrands = async (e) => {\r\n  if (e.selected) {\r\n    e.selected = false;\r\n    selectedBrands.value.filter((item, index) => {\r\n      if (item == e.uuid) {\r\n        selectedBrands.value.splice(index, 1);\r\n      }\r\n    });\r\n  } else {\r\n    e.selected = true;\r\n    selectedBrands.value.push(e.uuid);\r\n  }\r\n\r\n  emit(\"someChange\", {\r\n    sub: selectedSub.value,\r\n    ord: order.value,\r\n    brnd: selectedBrands.value,\r\n  });\r\n};\r\nfunction test(e) {\r\n  order.value = e.code;\r\n  emit(\"someChange\", {\r\n    sub: selectedSub.value,\r\n    ord: order.value,\r\n    brnd: selectedBrands.value,\r\n  });\r\n}\r\n\r\nwatch(selectedSub, () => {\r\n  emit(\"someChange\", {\r\n    sub: selectedSub.value,\r\n    ord: order.value,\r\n    brnd: selectedBrands.value,\r\n  });\r\n});\r\nwatch(selectedBrands, () => {\r\n  emit(\"someChange\", {\r\n    sub: selectedSub.value,\r\n    ord: order.value,\r\n    brnd: selectedBrands.value,\r\n  });\r\n});\r\n</script>\r\n\r\n<style scoped></style>\r\n","<template>\r\n  <div class=\"2xl:w-[1440px] xl:screen mx-auto\">\r\n    <div class=\"lead flex gap-5\">\r\n      <filtered-sidebar\r\n        :brands=\"incomedDatas.brands\"\r\n        :sub_categories=\"incomedDatas.sub_categories\"\r\n        @someChange=\"(e) => testFunc(e)\"\r\n      />\r\n\r\n      <div\r\n        style=\"\r\n          width: 97% !important;\r\n          height: auto !important;\r\n          user-select: none !important;\r\n          padding-bottom: 20px !important;\r\n        \"\r\n        class=\"flex flex-wrap gap-3\"\r\n      >\r\n        <div\r\n          v-for=\"(item, index) in incomedDatas.products\"\r\n          :key=\"item\"\r\n          draggable=\"true\"\r\n          class=\"group md:w-auto w-[176px] product_item mb-3 hover:shadow-none md:hover:shadow-hero hover:bg-[#D9D9D940] transition-all ease-in-out duration-200 rounded-xl flex flex-col justify-between items-center\"\r\n        >\r\n          <NuxtLink\r\n            @click.native=\"active = item.uuid\"\r\n            :to=\"localePath(`/product/${item.uuid}`)\"\r\n            class=\"rounded-xl text-center mt-6\"\r\n          >\r\n            <img\r\n              class=\"border pointer-events-none select-none border-[#e6e6e6] w-[90%] md:w-[245px] mx-3 aspect-square\"\r\n              :src=\"`http://duypbaha.com.tm/api/v1/uploads/images/${item.images}`\"\r\n              alt=\"\"\r\n              loading=\"lazy\"\r\n            />\r\n            <div\r\n              class=\"prod_name w-fit mx-auto md:text-3xl text-base font-alatsi text-[#3C4242] mt-3 mb-1\"\r\n              :class=\"{ active: active === item.uuid }\"\r\n            >\r\n              {{ item.name }}\r\n            </div>\r\n            <div\r\n              class=\"mx-auto text-[#48BC4E] text-3xl font-alatsi w-fit pb-1 border-b border-[#44A4DB]\"\r\n            >\r\n              {{ item.price }} TMT\r\n            </div>\r\n          </NuxtLink>\r\n\r\n          <TrashButtonAndCounter />\r\n        </div>\r\n        <div\r\n          v-if=\"!incomedDatas.products\"\r\n          class=\"mt-20 text-center w-full text-6xl text-gray-500 font-alatsi font-bold\"\r\n        >\r\n          Hic hili Haryt tapylmady!\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nconst { locale } = useI18n();\r\n\r\nconst router = useRouter();\r\nconst route = useRoute();\r\nconst incomedDatas = ref(\"\");\r\n\r\nconst active = useState();\r\nasync function testFunc(e) {\r\n  console.log(\"pp\");\r\n  router.push({\r\n    path: `/filtered-product/${route.params.id}`,\r\n    query: { filter: JSON.stringify(e.brnd), order: e.ord, catId: e.sub },\r\n  });\r\n}\r\n\r\nconst refetch = async () => {\r\n  let dataForm = {\r\n    category_id: route.params.id,\r\n    lang: \"tm\",\r\n    limit: 10,\r\n    offset: 0,\r\n  };\r\n\r\n  if (JSON.parse(route.query.filter).length) {\r\n    dataForm.brand_id = JSON.parse(route.query.filter);\r\n  }\r\n  if (route.query.order) {\r\n    dataForm.order = route.query.order;\r\n  }\r\n  if (route.query.catId) {\r\n    dataForm.sub_category_id = route.query.catId;\r\n  }\r\n  const { data, status } = await useMyFetch(\r\n    () => `/api/v1/client/products/product`,\r\n    {\r\n      method: \"POST\",\r\n      body: dataForm,\r\n    }\r\n  );\r\n  incomedDatas.value = data.value.data;\r\n  if (status) {\r\n    console.log(data.value.data, \"geldi========\");\r\n  }\r\n};\r\nawait refetch();\r\n\r\nincomedDatas.value.brands?.forEach((e) => {\r\n  if (route.query.filter) {\r\n  }\r\n  JSON.parse(route.query.filter).forEach((item) => {\r\n    if (item == e.uuid) {\r\n      e.selected = true;\r\n    }\r\n  });\r\n});\r\n\r\nwatch(\r\n  () => route.query,\r\n  async () => {\r\n    await refetch();\r\n    console.log(\"refetch\");\r\n    incomedDatas.value.brands.forEach((e) => {\r\n      JSON.parse(route.query.filter).forEach((item) => {\r\n        if (item == e.uuid) {\r\n          e.selected = true;\r\n        }\r\n      });\r\n    });\r\n  }\r\n);\r\n</script>\r\n\r\n<style scoped>\r\n.prod_name.active {\r\n  view-transition-name: title;\r\n}\r\n</style>\r\n<style>\r\n:view-transition-old(title),\r\n:view-transition-new(title) {\r\n  width: 50px;\r\n}\r\n</style>\r\n"],"names":["_ssrRenderAttrs","_mergeProps","_a","_withAsyncContext"],"mappings":"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"}