{"version":3,"file":"_id_-a65b5e7f.js","sources":["../../../../pages/admin/brands/edit/[id].vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"my-4 font-bold bg-slate-300 p-2\">Banner gosun</div>\r\n    <div class=\"flex gap-4 justify-between w-full\">\r\n      <div class=\"flex flex-col justify-between\">\r\n        <BaseInput\r\n          :validate=\"val_tm\"\r\n          name=\"Categoriya Turkmen\"\r\n          label=\"Categoriya Turkmen\"\r\n          placeholder=\"Categoriya Turkmen\"\r\n          v-model=\"category_tm\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"flex justify-between mt-3\">\r\n      <div class=\"w-[400px]\">\r\n        <BaseImgUpload\r\n          :currentImg=\"`http://192.168.1.126:2000/api/v1/uploads/brands/${selectedImg}`\"\r\n          v-model=\"category_img\"\r\n        />\r\n      </div>\r\n\r\n      <BaseButton @click=\"addCategory\" class=\"\" type=\"secondary\">\r\n        <button>Edit Category</button>\r\n      </BaseButton>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\ndefinePageMeta({\r\n  layout: \"admin\",\r\n});\r\nimport axios from \"~/plugins/axios\";\r\nimport { useUserStore } from \"~~/stores/user\";\r\nconst userStore = useUserStore();\r\nconst router = useRouter();\r\nconst route = useRoute();\r\n\r\nconst image = ref(null);\r\nconst category_tm = ref(null);\r\nconst category_ru = ref(null);\r\nconst category_en = ref(null);\r\nconst category_img = ref(null);\r\nconst selectedImg = ref(null);\r\ntry {\r\n  console.log(route.params);\r\n  const { data } = await userStore.OneBrand(route.params.id);\r\n  console.log(data, \"dai\");\r\n  category_tm.value = data.data.name;\r\n  selectedImg.value = data?.data?.img_path;\r\n  //   useRouter().push(\"/admin/categories\");\r\n} catch (error) {\r\n  console.log(error);\r\n}\r\n\r\nconst val_tm = (e) => {\r\n  if (e === \"\") {\r\n    return \"dogry dolduryn\";\r\n  }\r\n};\r\nconst val_ru = (e) => {\r\n  if (e === \"\") {\r\n    return \"dogry dolduryn\";\r\n  }\r\n};\r\nconst val_en = (e) => {\r\n  if (e === \"\") {\r\n    return \"dogry dolduryn\";\r\n  }\r\n};\r\nconst addCategory = async () => {\r\n  try {\r\n    console.log(!category_tm.value);\r\n    if (!category_tm.value) {\r\n      val_tm(category_tm.value);\r\n      alert(\"Maglumatlary doly giriziň!\");\r\n      throw \"Maglumatlary doly giriziň!\";\r\n    }\r\n    const form = new FormData();\r\n    form.append(\"name\", category_tm.value);\r\n    form.append(\"uuid\", route.params.id);\r\n    if (category_img.value) {\r\n      form.append(\"img\", category_img.value);\r\n    }\r\n    const { data } = await userStore.editBrand(form);\r\n\r\n    if (data.status) {\r\n      alert(\"Banner Gosuldy\");\r\n    }\r\n    useRouter().push(\"/admin/brands\");\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n"],"names":["_withAsyncContext"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,UAAM,YAAY,aAAY;AACf,cAAY;AAC3B,UAAM,QAAQ,SAAQ;AAER,QAAI,IAAI;AACtB,UAAM,cAAc,IAAI,IAAI;AACR,QAAI,IAAI;AACR,QAAI,IAAI;AAC5B,UAAM,eAAe,IAAI,IAAI;AAC7B,UAAM,cAAc,IAAI,IAAI;AAC5B,QAAI;AACF,cAAQ,IAAI,MAAM,MAAM;AACxB,YAAM,EAAE,KAAM,KAAS,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAA,UAAU,SAAS,MAAM,OAAO,EAAE,CAAA;AACzD,cAAQ,IAAI,MAAM,KAAK;AACvB,kBAAY,QAAQ,KAAK,KAAK;AAC9B,kBAAY,SAAQ,kCAAM,SAAN,mBAAY;AAAA,IAElC,SAAS,OAAP;AACA,cAAQ,IAAI,KAAK;AAAA,IACnB;AAEA,UAAM,SAAS,CAAC,MAAM;AACpB,UAAI,MAAM,IAAI;AACZ,eAAO;AAAA,MACR;AAAA,IACH;AAWA,UAAM,cAAc,YAAY;AAC9B,UAAI;AACF,gBAAQ,IAAI,CAAC,YAAY,KAAK;AAC9B,YAAI,CAAC,YAAY,OAAO;AACtB,iBAAO,YAAY,KAAK;AACxB,gBAAM,4BAA4B;AAClC,gBAAM;AAAA,QACP;AACD,cAAM,OAAO,IAAI;AACjB,aAAK,OAAO,QAAQ,YAAY,KAAK;AACrC,aAAK,OAAO,QAAQ,MAAM,OAAO,EAAE;AACnC,YAAI,aAAa,OAAO;AACtB,eAAK,OAAO,OAAO,aAAa,KAAK;AAAA,QACtC;AACD,cAAM,EAAE,KAAI,IAAK,MAAM,UAAU,UAAU,IAAI;AAE/C,YAAI,KAAK,QAAQ;AACf,gBAAM,gBAAgB;AAAA,QACvB;AACD,kBAAW,EAAC,KAAK,eAAe;AAAA,MACjC,SAAQ,OAAP;AACA,gBAAQ,IAAI,KAAK;AAAA,MAClB;AAAA,IACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}