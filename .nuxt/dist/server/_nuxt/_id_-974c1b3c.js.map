{"version":3,"file":"_id_-974c1b3c.js","sources":["../../../../pages/admin/special-categories/edit/[id].vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"my-4 font-bold bg-slate-300 p-2\">Banner gosun</div>\r\n    <div class=\"flex gap-4 justify-between w-full\">\r\n      <div class=\"flex flex-col justify-between\">\r\n        <BaseInput\r\n          :validate=\"val_tm\"\r\n          name=\"Categoriya Turkmen\"\r\n          label=\"Categoriya Turkmen\"\r\n          placeholder=\"Categoriya Turkmen\"\r\n          v-model=\"category_tm\"\r\n        />\r\n        <BaseInput\r\n          :validate=\"val_ru\"\r\n          name=\"Categoriya Rus\"\r\n          label=\"Categoriya Rus\"\r\n          placeholder=\"Categoriya Rus\"\r\n          v-model=\"category_ru\"\r\n        />\r\n        <BaseInput\r\n          :validate=\"val_en\"\r\n          name=\"Categoriya English\"\r\n          label=\"Categoriya English\"\r\n          placeholder=\"Categoriya English\"\r\n          v-model=\"category_en\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"flex justify-between mt-3\">\r\n      <div class=\"w-[400px]\">\r\n        <BaseImgUpload\r\n          :currentImg=\"`http://duypbaha.com.tm/api/v1/uploads/special_categories/${selectedImg}`\"\r\n          v-model=\"category_img\"\r\n        />\r\n      </div>\r\n\r\n      <BaseButton @click=\"addCategory\" class=\"\" type=\"secondary\">\r\n        <button>Add Category</button>\r\n      </BaseButton>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\ndefinePageMeta({\r\n  layout: \"admin\",\r\n  middleware: [\"auth\"],\r\n});\r\nimport axios from \"~/plugins/axios\";\r\nimport { useUserStore } from \"~~/stores/user\";\r\nconst userStore = useUserStore();\r\n\r\nconst router = useRouter();\r\n\r\nconst image = ref(null);\r\nconst category_tm = ref(null);\r\nconst category_ru = ref(null);\r\nconst category_en = ref(null);\r\nconst category_img = ref(null);\r\nconst selectedImg = ref(null);\r\nconst route = useRoute();\r\nconst val_tm = (e) => {\r\n  if (e === \"\") {\r\n    return \"dogry dolduryn\";\r\n  }\r\n};\r\nconst val_ru = (e) => {\r\n  if (e === \"\") {\r\n    return \"dogry dolduryn\";\r\n  }\r\n};\r\nconst val_en = (e) => {\r\n  if (e === \"\") {\r\n    return \"dogry dolduryn\";\r\n  }\r\n};\r\n\r\ntry {\r\n  const { data } = await userStore.OneSpecialCategories(route.params.id);\r\n  category_tm.value = data.value.data.name_tm;\r\n  category_en.value = data.value.data.name_en;\r\n  category_ru.value = data.value.data.name_ru;\r\n  selectedImg.value = data.value?.data?.image;\r\n  //   useRouter().push(\"/admin/categories\");\r\n} catch (error) {\r\n  console.log(error);\r\n}\r\n\r\nconst addCategory = async () => {\r\n  try {\r\n    if (!category_tm.value || !category_en.value || !category_ru.value) {\r\n      val_tm(category_tm.value);\r\n      val_en(category_en.value);\r\n      val_ru(category_ru.value);\r\n      alert(\"Maglumatlary doly giriziň!\");\r\n      throw \"Maglumatlary doly giriziň!\";\r\n    }\r\n    const form = new FormData();\r\n    form.append(\"name_tm\", category_tm.value);\r\n    form.append(\"name_ru\", category_ru.value);\r\n    form.append(\"name_en\", category_en.value);\r\n    form.append(\"uuid\", route.params.id);\r\n    if (category_img.value) {\r\n      form.append(\"img\", category_img.value);\r\n    }\r\n    const { data } = await userStore.updateSpecialCategories(form);\r\n\r\n    if (data.status) {\r\n      alert(\"Categoriya Gosuldy\");\r\n    }\r\n    useRouter().push(\"/admin/special-categories\");\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA,UAAM,YAAY,aAAY;AAEf,cAAY;AAEb,QAAI,IAAI;AACtB,UAAM,cAAc,IAAI,IAAI;AAC5B,UAAM,cAAc,IAAI,IAAI;AAC5B,UAAM,cAAc,IAAI,IAAI;AAC5B,UAAM,eAAe,IAAI,IAAI;AAC7B,UAAM,cAAc,IAAI,IAAI;AAC5B,UAAM,QAAQ,SAAQ;AACtB,UAAM,SAAS,CAAC,MAAM;AACpB,UAAI,MAAM,IAAI;AACZ,eAAO;AAAA,MACR;AAAA,IACH;AACA,UAAM,SAAS,CAAC,MAAM;AACpB,UAAI,MAAM,IAAI;AACZ,eAAO;AAAA,MACR;AAAA,IACH;AACA,UAAM,SAAS,CAAC,MAAM;AACpB,UAAI,MAAM,IAAI;AACZ,eAAO;AAAA,MACR;AAAA,IACH;AAEA,QAAI;AACF,YAAM,EAAE,KAAM,kDAAS,UAAU,qBAAqB,MAAM,OAAO,EAAE,CAAA;AACrE,kBAAY,QAAQ,KAAK,MAAM,KAAK;AACpC,kBAAY,QAAQ,KAAK,MAAM,KAAK;AACpC,kBAAY,QAAQ,KAAK,MAAM,KAAK;AACpC,kBAAY,SAAQ,gBAAK,UAAL,mBAAY,SAAZ,mBAAkB;AAAA,IAExC,SAAS,OAAP;AACA,cAAQ,IAAI,KAAK;AAAA,IACnB;AAEA,UAAM,cAAc,YAAY;AAC9B,UAAI;AACF,YAAI,CAAC,YAAY,SAAS,CAAC,YAAY,SAAS,CAAC,YAAY,OAAO;AAClE,iBAAO,YAAY,KAAK;AACxB,iBAAO,YAAY,KAAK;AACxB,iBAAO,YAAY,KAAK;AACxB,gBAAM,4BAA4B;AAClC,gBAAM;AAAA,QACP;AACD,cAAM,OAAO,IAAI;AACjB,aAAK,OAAO,WAAW,YAAY,KAAK;AACxC,aAAK,OAAO,WAAW,YAAY,KAAK;AACxC,aAAK,OAAO,WAAW,YAAY,KAAK;AACxC,aAAK,OAAO,QAAQ,MAAM,OAAO,EAAE;AACnC,YAAI,aAAa,OAAO;AACtB,eAAK,OAAO,OAAO,aAAa,KAAK;AAAA,QACtC;AACD,cAAM,EAAE,KAAI,IAAK,MAAM,UAAU,wBAAwB,IAAI;AAE7D,YAAI,KAAK,QAAQ;AACf,gBAAM,oBAAoB;AAAA,QAC3B;AACD,kBAAW,EAAC,KAAK,2BAA2B;AAAA,MAC7C,SAAQ,OAAP;AACA,gBAAQ,IAAI,KAAK;AAAA,MAClB;AAAA,IACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}