{"version":3,"file":"base-product-b39da0b5.js","sources":["../../../../assets/images/new.png","../../../../components/base/base-product.vue"],"sourcesContent":["export default \"__VITE_ASSET__9002f59c__\"","<template>\r\n  <NuxtLink\r\n    :to=\"localePath(`/product/${item?.uuid}`)\"\r\n    class=\"group rounded-xl w-full text-center\"\r\n  >\r\n    <img\r\n      class=\"border w-full aspect-square select-none rounded-md md:rounded-lg border-[#e6e6e6]\"\r\n      :src=\"`http://duypbaha.com.tm/api/v1/uploads/images/${propItem?.images}`\"\r\n      alt=\"\"\r\n      height=\"262\"\r\n      loading=\"lazy\"\r\n    />\r\n    <div\r\n      class=\"w-fit mx-auto font-medium md:text-3xl text-base font-alatsi text-[#3C4242] mt-3 mb-1\"\r\n    >\r\n      {{ propItem?.name }}\r\n    </div>\r\n    <div\r\n      class=\"mx-auto font-semibold text-[#48BC4E] text-3xl font-alatsi w-fit pb-1 border-b border-[#44A4DB]\"\r\n    >\r\n      {{ propItem?.price }} TMT\r\n    </div>\r\n  </NuxtLink>\r\n  <div v-if=\"propItem.status\" class=\"absolute -top-[10px] -left-[11px]\">\r\n    <img class=\"md:w-25 w-18\" src=\"@/assets/images/new.png\" alt=\"\" />\r\n  </div>\r\n  <div class=\"absolute top-5 right-5\">\r\n    <IconLike\r\n      fill=\"none\"\r\n      @click=\"toggleFav(propItem)\"\r\n      :class=\"item.isLiked ? 'fill-red-600 text-red-600' : ' text-gray-400'\"\r\n      class=\"group-hover:text-red-600 w-7\"\r\n    ></IconLike>\r\n  </div>\r\n  <TrashButtonAndCounter class=\"pt-5\" :item=\"propItem\" v-model=\"countProduct\" />\r\n</template>\r\n\r\n<script setup>\r\nimport { useFavStore } from \"~~/stores/favourite\";\r\nimport { useAuthStore } from \"@/stores/authStore\";\r\n\r\nconst props = defineProps({\r\n  item: {\r\n    type: Object,\r\n    default: {},\r\n  },\r\n});\r\nconst favStore = useFavStore();\r\nconst propItem = ref({});\r\nconst user = useAuthStore();\r\n\r\npropItem.value = props.item;\r\n\r\nfavStore.wish_items?.forEach(async (e) => {\r\n  if (e.uuid == props.item.uuid) {\r\n    propItem.value.isLiked = true;\r\n  } else {\r\n    propItem.isLiked == false;\r\n  }\r\n});\r\nconst toggleFav = async (e) => {\r\n  if (user.userToken?.uuid) {\r\n    const { data: wish_user } = await useMyFetch(\r\n      `/api/v1/client/wish-list?lang=tm&user_id=${user.userToken?.uuid}`\r\n    );\r\n    if (wish_user.value?.status) {\r\n      wish_user.value.data?.filter((e) => {\r\n        e.images = e.img_path;\r\n      });\r\n      favStore.wish_items = wish_user.value.data;\r\n    }\r\n  }\r\n  if (e.isLiked) {\r\n    e.isLiked = false;\r\n\r\n    favStore.removeLocalStorage(e);\r\n    if (user.userToken?.uuid) {\r\n      const { data } = await useMyFetch(\r\n        `/api/v1/client/wish-list/delete/${user.userToken?.uuid}/${e.uuid}`,\r\n        {\r\n          method: \"POST\",\r\n        }\r\n      );\r\n    }\r\n  } else {\r\n    e.isLiked = true;\r\n    if (user.userToken?.uuid) {\r\n      const { data } = useMyFetch(`/api/v1/client/wish-list/create`, {\r\n        method: \"POST\",\r\n        body: {\r\n          product_id: e.uuid,\r\n          user_id: user.userToken?.uuid,\r\n        },\r\n      });\r\n    }\r\n    favStore.setLocalStorage(e);\r\n  }\r\n};\r\n\r\nconst countProduct = ref(null);\r\nwatch(countProduct, () => {});\r\n</script>\r\n\r\n<style scoped></style>\r\n"],"names":["_a","e"],"mappings":";;;;;;;;AAAA,MAAe,aAAA,KAAA,iBAAA,kBAAA;;;;;;;;;;;;;AC+Cf,UAAM,WAAW,YAAW;AAC5B,UAAM,WAAW,IAAI,CAAA,CAAE;AACvB,UAAM,OAAO,aAAY;AAEzB,aAAS,QAAQ,MAAM;AAEvB,mBAAS,eAAT,mBAAqB,QAAQ,OAAO,MAAM;AACxC,UAAI,EAAE,QAAQ,MAAM,KAAK,MAAM;AAC7B,iBAAS,MAAM,UAAU;AAAA,MAC7B,OAAS;AACL,iBAAS,WAAW;AAAA,MACrB;AAAA,IACH;AACA,UAAM,YAAY,OAAO,MAAM;;AAC7B,WAAIA,MAAA,KAAK,cAAL,gBAAAA,IAAgB,MAAM;AACxB,cAAM,EAAE,MAAM,UAAW,IAAG,MAAM;AAAA,UAChC,6CAA4C,UAAK,cAAL,mBAAgB;AAAA,QAClE;AACI,aAAI,eAAU,UAAV,mBAAiB,QAAQ;AAC3B,0BAAU,MAAM,SAAhB,mBAAsB,OAAO,CAACC,OAAM;AAClC,YAAAA,GAAE,SAASA,GAAE;AAAA,UACrB;AACM,mBAAS,aAAa,UAAU,MAAM;AAAA,QACvC;AAAA,MACF;AACD,UAAI,EAAE,SAAS;AACb,UAAE,UAAU;AAEZ,iBAAS,mBAAmB,CAAC;AAC7B,aAAI,UAAK,cAAL,mBAAgB,MAAM;AACP,gBAAM;AAAA,YACrB,oCAAmC,UAAK,cAAL,mBAAgB,QAAQ,EAAE;AAAA,YAC7D;AAAA,cACE,QAAQ;AAAA,YACT;AAAA,UACD;AAAA,QACH;AAAA,MACL,OAAS;AACL,UAAE,UAAU;AACZ,aAAI,UAAK,cAAL,mBAAgB,MAAM;AACP,qBAAW,mCAAmC;AAAA,YAC7D,QAAQ;AAAA,YACR,MAAM;AAAA,cACJ,YAAY,EAAE;AAAA,cACd,UAAS,UAAK,cAAL,mBAAgB;AAAA,YAC1B;AAAA,UACT,CAAO;AAAA,QACF;AACD,iBAAS,gBAAgB,CAAC;AAAA,MAC3B;AAAA,IACH;AAEA,UAAM,eAAe,IAAI,IAAI;AAC7B,UAAM,cAAc,MAAM;AAAA,IAAA,CAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}