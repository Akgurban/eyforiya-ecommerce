{"version":3,"file":"index-d3e48c52.js","sources":["../../../../pages/admin/special-categories/index.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <NuxtLink\r\n      class=\"bg-green-700 block rounded-md hover:bg-green-600 p-2 text-white font-bold text-center mt-3 cursor-pointer\"\r\n      @click=\"addPost\"\r\n    >\r\n      Goshmak +\r\n    </NuxtLink>\r\n    <div class=\"rounded-md p-2 m-1 flex justify-between\">\r\n      <p class=\"font-bold\">Yorite kategoriyanyn ady</p>\r\n      <BaseButton type=\"\">Pozmak</BaseButton>\r\n    </div>\r\n    <ul>\r\n      <div\r\n        class=\"bg-gray-200 flex justify-between items-center text-lg font-bold rounded-md p-2 m-1\"\r\n        v-for=\"item in categories\"\r\n        :key=\"item.uuid\"\r\n      >\r\n        <img\r\n          :src=\"`http://duypbaha.com.tm/api/v1/uploads/special_categories/${item?.img_path}`\"\r\n          alt=\"\"\r\n          class=\"h-10 w-15\"\r\n        />\r\n        <p>\r\n          {{ item.name }}\r\n        </p>\r\n        <div class=\"flex gap-3\">\r\n          <BaseButton\r\n            @click=\"\r\n              useRouter().push(`/admin/special-categories/edit/${item.uuid}`)\r\n            \"\r\n            type=\"secondary\"\r\n            >uytget</BaseButton\r\n          >\r\n          <BaseButton @click=\"deleteCategory(item)\" type=\"danger\"\r\n            >Pozmak</BaseButton\r\n          >\r\n        </div>\r\n      </div>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { useUserStore } from \"~~/stores/user\";\r\nconst userStore = useUserStore();\r\ndefinePageMeta({\r\n  layout: \"admin\",\r\n  middleware: [\"auth\"],\r\n});\r\nconst categories = ref(null);\r\n\r\ntry {\r\n  const { data } = await userStore.getSpecialCategories();\r\n  categories.value = data.value.data;\r\n} catch (error) {\r\n  console.log(error);\r\n}\r\n\r\nconst getCategoriesr = async () => {\r\n  try {\r\n    const { data } = await userStore.getSpecialCategories();\r\n    categories.value = data.value.data;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\nconst deleteCategory = async (e) => {\r\n  try {\r\n    const { data } = await userStore.deleteSpecialCategories({ uuid: e.uuid });\r\n    await getCategoriesr();\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\nconst addPost = () => {\r\n  if (categories.value?.length >= 5) {\r\n    alert(\"maximum 5 sany special categoriya\");\r\n  } else {\r\n    useRouter().push(\"/admin/special-categories/add\");\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n"],"names":["_withAsyncContext"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA,UAAM,YAAY,aAAY;AAK9B,UAAM,aAAa,IAAI,IAAI;AAE3B,QAAI;AACF,YAAM,EAAE,KAAM,KAAS,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAA,UAAU,sBAAqB;AACtD,iBAAW,QAAQ,KAAK,MAAM;AAAA,IAChC,SAAS,OAAP;AACA,cAAQ,IAAI,KAAK;AAAA,IACnB;AAEA,UAAM,iBAAiB,YAAY;AACjC,UAAI;AACF,cAAM,EAAE,KAAM,IAAG,MAAM,UAAU,qBAAoB;AACrD,mBAAW,QAAQ,KAAK,MAAM;AAAA,MAC/B,SAAQ,OAAP;AACA,gBAAQ,IAAI,KAAK;AAAA,MAClB;AAAA,IACH;AACA,UAAM,iBAAiB,OAAO,MAAM;AAClC,UAAI;AACF,cAAM,EAAE,SAAS,MAAM,UAAU,wBAAwB,EAAE,MAAM,EAAE,KAAI,CAAE;AACzE,cAAM,eAAc;AAAA,MACrB,SAAQ,OAAP;AACA,gBAAQ,IAAI,KAAK;AAAA,MAClB;AAAA,IACH;AACA,UAAM,UAAU,MAAM;;AACpB,YAAI,gBAAW,UAAX,mBAAkB,WAAU,GAAG;AACjC,cAAM,mCAAmC;AAAA,MAC7C,OAAS;AACL,kBAAW,EAAC,KAAK,+BAA+B;AAAA,MACjD;AAAA,IACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}