{"version":3,"file":"add-fe396d8c.js","sources":["../../../../components/base/base-textarea.vue","../../../../pages/admin/products/add.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <label :for=\"id\">{{ label }}</label>\r\n    <textarea\r\n      :id=\"id\"\r\n      :name=\"name\"\r\n      :placeholder=\"placeholder\"\r\n      :value=\"modelValue\"\r\n      @input=\"handleInput\"\r\n      class=\"bg-white w-full sm:px-6 border border-black px-4 py-4 h-50 focus:outline-none mt-1 placeholder:text-[#B7B7B7]\"\r\n    />\r\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from \"vue\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nconst props = defineProps({\r\n  name: { type: String, required: true },\r\n  type: { type: String, default: \"text\" },\r\n  label: { type: String, required: true },\r\n  value: { type: [String, Number], default: \"\" },\r\n  modelValue: { type: [String, Number], default: \"\" },\r\n  placeholder: { type: String, default: \"\" },\r\n  validate: { type: Function },\r\n});\r\n\r\nconst emit = defineEmits([\"update:modelValue\"]);\r\nconst error = ref(\"\");\r\nconst id = uuidv4();\r\nfunction handleInput(event) {\r\n  emit(\"update:modelValue\", event.target.value);\r\n  if (props.validate) {\r\n    error.value = props.validate(event.target.value);\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.error {\r\n  color: red;\r\n  font-size: 0.8rem;\r\n  margin-top: 0.5rem;\r\n}\r\n</style>\r\n","<template>\r\n  <div>\r\n    <div class=\"my-4 font-bold bg-slate-300 p-2\">Habar gosun</div>\r\n    <div class=\"flex gap-4 justify-between w-full\">\r\n      <div class=\"w-[400px]\">\r\n        <BaseImgUpload v-model=\"image\" />\r\n      </div>\r\n      <div class=\"flex flex-col justify-between\">\r\n        <BaseInput\r\n          name=\"Title Link\"\r\n          label=\"title ady\"\r\n          placeholder=\"titte gosh\"\r\n          v-model=\"title\"\r\n        />\r\n        <BaseSelect\r\n          v-model=\"selectedCategory\"\r\n          label=\"Select Category\"\r\n          :options=\"categories\"\r\n        >\r\n        </BaseSelect>\r\n      </div>\r\n    </div>\r\n    <BaseTextarea\r\n      name=\"description\"\r\n      label=\"Habaryn mazmuny\"\r\n      placeholder=\"Habaryn mazmuny ýazyň \"\r\n      v-model=\"description\"\r\n      class=\"mt-4\"\r\n    />\r\n    <div class=\"flex justify-end\">\r\n      <BaseButton @click=\"addPosts\" class=\"\" type=\"secondary\">\r\n        <button>Habar gosh</button>\r\n      </BaseButton>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { useUserStore } from \"~~/stores/user\";\r\ndefinePageMeta({\r\n  layout: \"admin\",\r\n});\r\n\r\nconst image = ref(null);\r\nconst selectedCategory = ref(null);\r\nconst selectedPost = ref(\"\");\r\nconst description = ref(null);\r\nconst route = useRouter();\r\nconst userStore = useUserStore();\r\nconst title = ref(null);\r\nconst categories = ref(null);\r\n\r\ntry {\r\n  const { data } = await userStore.getCategories();\r\n\r\n  console.log(data, \"data\");\r\n  categories.value = data.data;\r\n} catch (error) {\r\n  console.log(error);\r\n}\r\n\r\nconst addPosts = async () => {\r\n  try {\r\n    const form = new FormData();\r\n    form.append(\"file\", image.value);\r\n    form.append(\"description\", description.value);\r\n    form.append(\"title\", title.value);\r\n    form.append(\"uuid\", selectedPost.value);\r\n    form.append(\"category_id\", selectedCategory.value.uuid);\r\n    const { data } = await userStore.addPosts(form);\r\n    console.log(data, \"data\");\r\n    categories.value = data.data;\r\n    if (data.status) {\r\n      alert(\"habar Ustunlikli goshuldy\");\r\n      useRouter().push(\"/admin/posts\");\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\nwatch(image, () => {\r\n  console.log(image);\r\n});\r\n</script>\r\n\r\n<style scoped></style>\r\n"],"names":["uuidv4"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,UAAM,QAAQ,IAAI,EAAE;AACpB,UAAM,KAAKA,GAAM;;;;;;;;;;;;;;;;;;;;;;;ACYjB,UAAM,QAAQ,IAAI,IAAI;AACtB,UAAM,mBAAmB,IAAI,IAAI;AACjC,UAAM,eAAe,IAAI,EAAE;AAC3B,UAAM,cAAc,IAAI,IAAI;AACd,cAAY;AAC1B,UAAM,YAAY,aAAY;AAC9B,UAAM,QAAQ,IAAI,IAAI;AACtB,UAAM,aAAa,IAAI,IAAI;AAE3B,QAAI;AACF,YAAM,EAAE,KAAM,kDAAS,UAAU,eAAc;AAE/C,cAAQ,IAAI,MAAM,MAAM;AACxB,iBAAW,QAAQ,KAAK;AAAA,IAC1B,SAAS,OAAP;AACA,cAAQ,IAAI,KAAK;AAAA,IACnB;AAEA,UAAM,WAAW,YAAY;AAC3B,UAAI;AACF,cAAM,OAAO,IAAI;AACjB,aAAK,OAAO,QAAQ,MAAM,KAAK;AAC/B,aAAK,OAAO,eAAe,YAAY,KAAK;AAC5C,aAAK,OAAO,SAAS,MAAM,KAAK;AAChC,aAAK,OAAO,QAAQ,aAAa,KAAK;AACtC,aAAK,OAAO,eAAe,iBAAiB,MAAM,IAAI;AACtD,cAAM,EAAE,KAAI,IAAK,MAAM,UAAU,SAAS,IAAI;AAC9C,gBAAQ,IAAI,MAAM,MAAM;AACxB,mBAAW,QAAQ,KAAK;AACxB,YAAI,KAAK,QAAQ;AACf,gBAAM,2BAA2B;AACjC,oBAAW,EAAC,KAAK,cAAc;AAAA,QAChC;AAAA,MACF,SAAQ,OAAP;AACA,gBAAQ,IAAI,KAAK;AAAA,MAClB;AAAA,IACH;AACA,UAAM,OAAO,MAAM;AACjB,cAAQ,IAAI,KAAK;AAAA,IACnB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}