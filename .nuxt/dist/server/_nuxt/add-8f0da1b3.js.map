{"version":3,"file":"add-8f0da1b3.js","sources":["../../../../pages/admin/banners/add.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"my-4 font-bold bg-slate-300 p-2\">Banner gosun</div>\r\n    <div class=\"flex gap-4 justify-between w-full\">\r\n      <div class=\"flex flex-col justify-between\">\r\n        <BaseInput\r\n          :validate=\"val_tm\"\r\n          name=\"Categoriya Turkmen\"\r\n          label=\"Categoriya Turkmen\"\r\n          placeholder=\"Categoriya Turkmen\"\r\n          v-model=\"category_tm\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"flex justify-between mt-3\">\r\n      <div class=\"w-[400px]\">\r\n        <BaseImgUpload v-model=\"category_img\" />\r\n      </div>\r\n\r\n      <BaseButton @click=\"addCategory\" class=\"\" type=\"secondary\">\r\n        <button>Add Category</button>\r\n      </BaseButton>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\ndefinePageMeta({\r\n  layout: \"admin\",\r\n});\r\nimport axios from \"~/plugins/axios\";\r\nimport { useUserStore } from \"~~/stores/user\";\r\nconst userStore = useUserStore();\r\n\r\nconst router = useRouter();\r\n\r\nconst image = ref(null);\r\nconst category_tm = ref(null);\r\nconst category_img = ref(null);\r\nconst route = useRouter();\r\nwatch(image, () => {\r\n  console.log(image);\r\n});\r\nconst val_tm = (e) => {\r\n  if (e === \"\") {\r\n    return \"dogry dolduryn\";\r\n  }\r\n};\r\n\r\nconst addCategory = async () => {\r\n  try {\r\n    console.log(!category_tm.value);\r\n    if (!category_tm.value || !category_img.value) {\r\n      val_tm(category_tm.value);\r\n      alert(\"Maglumatlary doly giriziň!\");\r\n      throw \"Maglumatlary doly giriziň!\";\r\n    }\r\n    const form = new FormData();\r\n    form.append(\"name\", category_tm.value);\r\n    form.append(\"img\", category_img.value);\r\n    const { data } = await userStore.addBanner(form);\r\n\r\n    if (data.status) {\r\n      alert(\"Banner Gosuldy\");\r\n    }\r\n    useRouter().push(\"/admin/banners\");\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,UAAM,YAAY,aAAY;AAEf,cAAY;AAE3B,UAAM,QAAQ,IAAI,IAAI;AACtB,UAAM,cAAc,IAAI,IAAI;AAC5B,UAAM,eAAe,IAAI,IAAI;AACf,cAAY;AAC1B,UAAM,OAAO,MAAM;AACjB,cAAQ,IAAI,KAAK;AAAA,IACnB,CAAC;AACD,UAAM,SAAS,CAAC,MAAM;AACpB,UAAI,MAAM,IAAI;AACZ,eAAO;AAAA,MACR;AAAA,IACH;AAEA,UAAM,cAAc,YAAY;AAC9B,UAAI;AACF,gBAAQ,IAAI,CAAC,YAAY,KAAK;AAC9B,YAAI,CAAC,YAAY,SAAS,CAAC,aAAa,OAAO;AAC7C,iBAAO,YAAY,KAAK;AACxB,gBAAM,4BAA4B;AAClC,gBAAM;AAAA,QACP;AACD,cAAM,OAAO,IAAI;AACjB,aAAK,OAAO,QAAQ,YAAY,KAAK;AACrC,aAAK,OAAO,OAAO,aAAa,KAAK;AACrC,cAAM,EAAE,KAAI,IAAK,MAAM,UAAU,UAAU,IAAI;AAE/C,YAAI,KAAK,QAAQ;AACf,gBAAM,gBAAgB;AAAA,QACvB;AACD,kBAAW,EAAC,KAAK,gBAAgB;AAAA,MAClC,SAAQ,OAAP;AACA,gBAAQ,IAAI,KAAK;AAAA,MAClB;AAAA,IACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}