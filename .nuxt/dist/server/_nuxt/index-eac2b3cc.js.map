{"version":3,"file":"index-eac2b3cc.js","sources":["../../../../pages/admin/products/index.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <NuxtLink\r\n      class=\"bg-green-700 block rounded-md hover:bg-green-600 p-2 text-white font-bold text-center mt-3 cursor-pointer\"\r\n      to=\"/admin/products/add\"\r\n    >\r\n      Goshmak +\r\n    </NuxtLink>\r\n    <div class=\"rounded-md p-2 m-1 flex justify-between\">\r\n      <p class=\"font-bold\">Image</p>\r\n      <p class=\"font-bold\">Title</p>\r\n      <p class=\"font-bold\">Description</p>\r\n      <p class=\"font-bold\">Pozmak</p>\r\n    </div>\r\n    <ul>\r\n      <li\r\n        class=\"bg-gray-200 flex justify-between items-center text-lg font-bold rounded-md p-2 m-1\"\r\n        v-for=\"item in products\"\r\n        :key=\"item?.uuid\"\r\n      >\r\n        <img\r\n          :src=\"`http://duypbaha.com.tm/api/v1/uploads/images/${item?.images[0]}`\"\r\n          alt=\"\"\r\n          class=\"h-10 w-15\"\r\n        />\r\n        <p>\r\n          {{ item?.name }}\r\n        </p>\r\n        <p class=\"text-xs w-1/3\">\r\n          {{ item?.description }}\r\n        </p>\r\n        <div class=\"flex gap-3\">\r\n          <BaseButton\r\n            @click=\"useRouter().push(`/admin/products/edit/${item?.uuid}`)\"\r\n            type=\"primary\"\r\n            >uytget</BaseButton\r\n          >\r\n          <BaseButton @click=\"deletePosts(item)\" type=\"danger\"\r\n            >Pozmak</BaseButton\r\n          >\r\n        </div>\r\n      </li>\r\n      <BasePaginate :total-items=\"totalItems\" v-model=\"count\" />\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { useToast } from \"vue-toastification\";\r\n\r\nimport { useUserStore } from \"~~/stores/user\";\r\nimport { useLoaderStore } from \"~~/stores/loader\";\r\n\r\ndefinePageMeta({\r\n  layout: \"admin\",\r\n  middleware: [\"auth\"],\r\n});\r\nconst loaderStore = useLoaderStore();\r\nconst $toast = useToast();\r\nconst products = ref(null);\r\nconst count = ref(1);\r\nconst totalItems = ref(10);\r\nconst userStore = useUserStore();\r\n\r\nconst getPosts = async () => {\r\n  try {\r\n    const { data } = await userStore.getProduct({\r\n      limit: 15,\r\n      offset: count.value,\r\n    });\r\n    if (data?.value.status) {\r\n      products.value = data.value.data?.products;\r\n      totalItems.value = data.value.data?.count;\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nawait getPosts();\r\n\r\nwatch(count, async () => {\r\n  console.log(\"xsa\");\r\n  await getPosts();\r\n});\r\nconst deletePosts = async (e) => {\r\n  try {\r\n    const { data } = await userStore.deleteProduct(e);\r\n    if (data.value.status) {\r\n      await getPosts();\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\nloaderStore.endLoading();\r\n</script>\r\n<style></style>\r\n"],"names":["_withAsyncContext"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA,UAAM,cAAc,eAAc;AACnB,aAAW;AAC1B,UAAM,WAAW,IAAI,IAAI;AACzB,UAAM,QAAQ,IAAI,CAAC;AACnB,UAAM,aAAa,IAAI,EAAE;AACzB,UAAM,YAAY,aAAY;AAE9B,UAAM,WAAW,YAAY;;AAC3B,UAAI;AACF,cAAM,EAAE,KAAI,IAAK,MAAM,UAAU,WAAW;AAAA,UAC1C,OAAO;AAAA,UACP,QAAQ,MAAM;AAAA,QACpB,CAAK;AACD,YAAI,6BAAM,MAAM,QAAQ;AACtB,mBAAS,SAAQ,UAAK,MAAM,SAAX,mBAAiB;AAClC,qBAAW,SAAQ,UAAK,MAAM,SAAX,mBAAiB;AAAA,QACrC;AAAA,MACF,SAAQ,OAAP;AACA,gBAAQ,IAAI,KAAK;AAAA,MAClB;AAAA,IACH;AAEA,IAAM,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAA,SAAQ,CAAC;AAEf,UAAM,OAAO,YAAY;AACvB,cAAQ,IAAI,KAAK;AACjB,YAAM,SAAQ;AAAA,IAChB,CAAC;AACD,UAAM,cAAc,OAAO,MAAM;AAC/B,UAAI;AACF,cAAM,EAAE,KAAI,IAAK,MAAM,UAAU,cAAc,CAAC;AAChD,YAAI,KAAK,MAAM,QAAQ;AACrB,gBAAM,SAAQ;AAAA,QACf;AAAA,MACF,SAAQ,OAAP;AACA,gBAAQ,IAAI,KAAK;AAAA,MAClB;AAAA,IACH;AACA,gBAAY,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}