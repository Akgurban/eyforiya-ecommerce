{"version":3,"file":"login-247aee10.js","sources":["../../../../pages/admin/login.vue"],"sourcesContent":["<script setup>\r\nimport { useAuthStore } from \"@/stores/authStore\";\r\ndefinePageMeta({\r\n  layout: \"login\",\r\n  // middleware: [\"redirect\"],\r\n});\r\nconst user = ref(\"\");\r\nconst password = ref(\"\");\r\nconst isValid = ref(true);\r\nconst authStore = useAuthStore();\r\nconst router = useRouter();\r\nasync function login() {\r\n  try {\r\n    // simple data validation\r\n    if (!user.value || !password.value) {\r\n      isValid.value = false;\r\n      return;\r\n      // throw new Error(\"Please fill all fields\");\r\n    }\r\n    const { data, error } = await useFetch(\"/api/v1/admin/login\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        user: user.value,\r\n        password: password.value,\r\n      }),\r\n    });\r\n    authStore.userToken = data.value.data;\r\n    router.push(\"/admin/news\");\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"flex justify-center items-center h-screen\">\r\n    <div class=\"w-full max-w-md\">\r\n      <h1 class=\"text-3xl font-bold text-center mb-6\">Login</h1>\r\n      <form class=\"bg-c-gray shadow-lg rounded px-8 pt-6 pb-8 mb-4\">\r\n        <div class=\"mb-4\">\r\n          <BaseInput\r\n            label=\"Username\"\r\n            id=\"username\"\r\n            name=\"username\"\r\n            type=\"text\"\r\n            placeholder=\"Username\"\r\n            v-model=\"user\"\r\n          />\r\n        </div>\r\n        <div class=\"mb-6\">\r\n          <BaseInput\r\n            label=\"Password\"\r\n            id=\"password\"\r\n            name=\"password\"\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            v-model=\"password\"\r\n          />\r\n        </div>\r\n        <p class=\"text-red-500 text-sm inter font-bold mb-4\" v-if=\"!isValid\">\r\n          Please fill all the forms\r\n        </p>\r\n        <div class=\"flex items-center justify-between\">\r\n          <button\r\n            class=\"bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\r\n            type=\"button\"\r\n            @click=\"login\"\r\n          >\r\n            Sign In\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMA,UAAM,OAAO,IAAI,EAAE;AACnB,UAAM,WAAW,IAAI,EAAE;AACvB,UAAM,UAAU,IAAI,IAAI;AACN,iBAAe;AAClB,cAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}